

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>natcap.invest.scenic_quality package &mdash; InVEST 3.8.9.post1013+gbc4bb051.d20201125 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.gif"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="natcap.invest.sdr package" href="natcap.invest.sdr.html" />
    <link rel="prev" title="natcap.invest.reporting package" href="natcap.invest.reporting.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> InVEST
          

          
            
            <img src="../_static/invest-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.8.9.post1013
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installing InVEST From Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">The InVEST CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting.html">Tutorial: Batch Processing on Windows</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">Full API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="modules.html">natcap</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="natcap.html">natcap package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="natcap.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.html#module-natcap">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="natcap.html">natcap package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="natcap.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="natcap.invest.html">natcap.invest package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="natcap.html#module-natcap">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="natcap.invest.html">natcap.invest package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="natcap.invest.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.coastal_blue_carbon.html">natcap.invest.coastal_blue_carbon package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.delineateit.html">natcap.invest.delineateit package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.finfish_aquaculture.html">natcap.invest.finfish_aquaculture package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.fisheries.html">natcap.invest.fisheries package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.hydropower.html">natcap.invest.hydropower package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.ndr.html">natcap.invest.ndr package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.recreation.html">natcap.invest.recreation package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.reporting.html">natcap.invest.reporting package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">natcap.invest.scenic_quality package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.sdr.html">natcap.invest.sdr package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.seasonal_water_yield.html">natcap.invest.seasonal_water_yield package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.ui.html">natcap.invest.ui package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.carbon">natcap.invest.carbon module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.cli">natcap.invest.cli module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.coastal_vulnerability">natcap.invest.coastal_vulnerability module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.crop_production_percentile">natcap.invest.crop_production_percentile module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.crop_production_regression">natcap.invest.crop_production_regression module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.datastack">natcap.invest.datastack module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.forest_carbon_edge_effect">natcap.invest.forest_carbon_edge_effect module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.globio">natcap.invest.globio module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.habitat_quality">natcap.invest.habitat_quality module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.hra">natcap.invest.hra module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.pollination">natcap.invest.pollination module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.routedem">natcap.invest.routedem module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.scenario_gen_proximity">natcap.invest.scenario_gen_proximity module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.urban_cooling_model">natcap.invest.urban_cooling_model module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.urban_flood_risk_mitigation">natcap.invest.urban_flood_risk_mitigation module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.utils">natcap.invest.utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.validation">natcap.invest.validation module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.wave_energy">natcap.invest.wave_energy module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.wind_energy">natcap.invest.wind_energy module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.coastal_blue_carbon.html">natcap.invest.coastal_blue_carbon package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.delineateit.html">natcap.invest.delineateit package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.finfish_aquaculture.html">natcap.invest.finfish_aquaculture package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.fisheries.html">natcap.invest.fisheries package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.hydropower.html">natcap.invest.hydropower package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ndr.html">natcap.invest.ndr package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.recreation.html">natcap.invest.recreation package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.reporting.html">natcap.invest.reporting package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">natcap.invest.scenic_quality package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.scenic_quality.scenic_quality">natcap.invest.scenic_quality.scenic_quality module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.scenic_quality.viewshed">natcap.invest.scenic_quality.viewshed module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">natcap.invest.scenic_quality.viewshed module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.scenic_quality">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.sdr.html">natcap.invest.sdr package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.seasonal_water_yield.html">natcap.invest.seasonal_water_yield package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html">natcap.invest.ui package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">InVEST</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../api.html">API Reference</a> &raquo;</li>
        
          <li><a href="modules.html">natcap</a> &raquo;</li>
        
          <li><a href="natcap.html">natcap package</a> &raquo;</li>
        
          <li><a href="natcap.invest.html">natcap.invest package</a> &raquo;</li>
        
      <li>natcap.invest.scenic_quality package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/natcap.invest.scenic_quality.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="natcap-invest-scenic-quality-package">
<h1>natcap.invest.scenic_quality package<a class="headerlink" href="#natcap-invest-scenic-quality-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-natcap.invest.scenic_quality.scenic_quality">
<span id="natcap-invest-scenic-quality-scenic-quality-module"></span><h2>natcap.invest.scenic_quality.scenic_quality module<a class="headerlink" href="#module-natcap.invest.scenic_quality.scenic_quality" title="Permalink to this headline">¶</a></h2>
<p>InVEST Scenic Quality Model.</p>
<dl class="py function">
<dt id="natcap.invest.scenic_quality.scenic_quality.execute">
<code class="sig-prename descclassname">natcap.invest.scenic_quality.scenic_quality.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.scenic_quality.scenic_quality.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the Scenic Quality Model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong><strong>[</strong><strong>'workspace_dir'</strong><strong>]</strong> (<em>string</em>) – (required) output directory for
intermediate, temporary, and final files.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'results_suffix'</strong><strong>]</strong> (<em>string</em>) – (optional) string to append to any
output file.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'aoi_path'</strong><strong>]</strong> (<em>string</em>) – (required) path to a vector that
indicates the area over which the model should be run.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'structure_path'</strong><strong>]</strong> (<em>string</em>) – (required) path to a point vector
that has the features for the viewpoints. Optional fields:
‘WEIGHT’, ‘RADIUS’ / ‘RADIUS2’, ‘HEIGHT’</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'dem_path'</strong><strong>]</strong> (<em>string</em>) – (required) path to a digital elevation model
raster.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'refraction'</strong><strong>]</strong> (<em>float</em>) – (required) number indicating the refraction
coefficient to use for calculating curvature of the earth.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'do_valuation'</strong><strong>]</strong> (<em>bool</em>) – (optional) indicates whether to compute
valuation.  If <code class="docutils literal notranslate"><span class="pre">False</span></code>, per-viewpoint value will not be computed,
and the summation of valuation rasters (vshed_value.tif) will not
be created.  Additionally, the Viewshed Quality raster will
represent the weighted sum of viewsheds. Default: <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'valuation_function'</strong><strong>]</strong> (<em>string</em>) – The type of economic
function to use for valuation.  One of “linear”, “logarithmic”,
or “exponential”.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'a_coef'</strong><strong>]</strong> (<em>float</em>) – The “a” coefficient for valuation.  Required
if <code class="docutils literal notranslate"><span class="pre">args['do_valuation']</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'b_coef'</strong><strong>]</strong> (<em>float</em>) – The “b” coefficient for valuation.  Required
if <code class="docutils literal notranslate"><span class="pre">args['do_valuation']</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'max_valuation_radius'</strong><strong>]</strong> (<em>float</em>) – Past this distance
from the viewpoint, the valuation raster’s pixel values will be set
to 0.  Required if <code class="docutils literal notranslate"><span class="pre">args['do_valuation']</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'n_workers'</strong><strong>]</strong> (<em>int</em>) – (optional) The number of worker processes to
use for processing this model.  If omitted, computation will take
place in the current process.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.scenic_quality.viewshed">
<span id="natcap-invest-scenic-quality-viewshed-module"></span><h2>natcap.invest.scenic_quality.viewshed module<a class="headerlink" href="#module-natcap.invest.scenic_quality.viewshed" title="Permalink to this headline">¶</a></h2>
<p>Implements the Wang et al (2000) viewshed based on reference planes.</p>
<p>This algorithm was originally described in “Generating viewsheds without using
sightlines”, authored by Jianjun Wang, Gary J. Robertson, and Kevin White,
published in Photogrammetric Engineering &amp; Remote Sensing, Vol. 66, No. 1,
January 2000, pp. 87-90.</p>
<p>Calculations for adjusting the required height for curvature of the earth have
been adapted from the ESRI ArcGIS documentation:
<a class="reference external" href="http://desktop.arcgis.com/en/arcmap/10.3/tools/spatial-analyst-toolbox/using-viewshed-and-observer-points-for-visibility.htm">http://desktop.arcgis.com/en/arcmap/10.3/tools/spatial-analyst-toolbox/using-viewshed-and-observer-points-for-visibility.htm</a></p>
<p>Consistent with the routing functionality of pygeoprocessing, neighbor
directions follow the right-hand rule where neighbor indexes are interpreted
as:</p>
<blockquote>
<div><p># 321
# 4X0
# 567</p>
</div></blockquote>
<dl class="py function">
<dt id="natcap.invest.scenic_quality.viewshed.viewshed">
<code class="sig-prename descclassname">natcap.invest.scenic_quality.viewshed.</code><code class="sig-name descname">viewshed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dem_raster_path_band</span></em>, <em class="sig-param"><span class="n">viewpoint</span></em>, <em class="sig-param"><span class="n">visibility_filepath</span></em>, <em class="sig-param"><span class="n">viewpoint_height</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">curved_earth</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">refraction_coeff</span><span class="o">=</span><span class="default_value">0.13</span></em>, <em class="sig-param"><span class="n">max_distance</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">aux_filepath</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.scenic_quality.viewshed.viewshed" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the Wang et al. reference-plane based viewshed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dem_raster_path_band</strong> (<em>tuple</em>) – A tuple of (path, band_index) where
<code class="docutils literal notranslate"><span class="pre">path</span></code> is a path to a GDAL-compatible raster on disk and
<code class="docutils literal notranslate"><span class="pre">band_index</span></code> is the 1-based band index.  This DEM must be tiled
with block sizes as a power of 2.  If the viewshed is being
adjusted for curvature of the earth and/or refraction, the
elevation units of the DEM must be in meters.  The DEM need not be
projected in meters.</p></li>
<li><p><strong>viewpoint</strong> (<em>tuple</em>) – A tuple of 2 numbers in the order
<code class="docutils literal notranslate"><span class="pre">(east</span> <span class="pre">offset,</span> <span class="pre">north</span> <span class="pre">offset)</span></code>.  These units must be of the same
units as the coordinate system of the DEM.  This index represents
the viewpoint location.  The closest pixel to this viewpoint index
will be used as the viewpoint.</p></li>
<li><p><strong>visibility_filepath</strong> (<em>string</em>) – A filepath on disk to where the
visibility raster will be written. If a raster exists in this
location, it will be overwritten.</p></li>
<li><p><strong>viewpoint_height=0.0</strong> (<em>float</em>) – The height (in the units of the DEM
height) of the observer at the viewpoint.</p></li>
<li><p><strong>curved_earth=True</strong> (<em>bool</em>) – Whether to adjust viewshed calculations for
the curvature of the earth.  If False, the earth will be treated as
though it is flat.</p></li>
<li><p><strong>refraction_coeff=0.13</strong> (<em>float</em>) – The coefficient of atmospheric
refraction that may be adjusted to accommodate varying atmospheric
conditions.  Default is <code class="docutils literal notranslate"><span class="pre">0.13</span></code>.  Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to ignore
refraction calculations.</p></li>
<li><p><strong>max_distance=None</strong> (<em>float</em>) – If provided, visibility will not be
calculated for DEM pixels that are more than this distance (in meters)
from the viewpoint.</p></li>
<li><p><strong>aux_filepath=None</strong> (<em>string</em>) – A path to a location on disk
where the raster containing the auxiliary matrix will be written.
The auxiliary matrix defines the height that a DEM must exceed in
order to be visible from the viewpoint.  This matrix is very useful
for debugging.  If a raster already exists at this location, it
will be overwritten.  If this path is not provided by the user, the
viewshed will create this file as a temporary file wherever the
system keeps its temp files and remove it when the viewshed
finishes.  See python’s <code class="docutils literal notranslate"><span class="pre">tempfile</span></code> documentation for where this
might be on your system.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – When either the viewpoint does not overlap with the DEM or
    the DEM is not tiled appropriately.</p></li>
<li><p><strong>LookupError</strong> – When the <code class="docutils literal notranslate"><span class="pre">viewpoint</span></code> coordinate pair is over nodata.</p></li>
<li><p><strong>AssertionError</strong> – When pixel dimensions are not square.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="id1">
<h2>natcap.invest.scenic_quality.viewshed module<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-0"></span><p>Implements the Wang et al (2000) viewshed based on reference planes.</p>
<p>This algorithm was originally described in “Generating viewsheds without using
sightlines”, authored by Jianjun Wang, Gary J. Robertson, and Kevin White,
published in Photogrammetric Engineering &amp; Remote Sensing, Vol. 66, No. 1,
January 2000, pp. 87-90.</p>
<p>Calculations for adjusting the required height for curvature of the earth have
been adapted from the ESRI ArcGIS documentation:
<a class="reference external" href="http://desktop.arcgis.com/en/arcmap/10.3/tools/spatial-analyst-toolbox/using-viewshed-and-observer-points-for-visibility.htm">http://desktop.arcgis.com/en/arcmap/10.3/tools/spatial-analyst-toolbox/using-viewshed-and-observer-points-for-visibility.htm</a></p>
<p>Consistent with the routing functionality of pygeoprocessing, neighbor
directions follow the right-hand rule where neighbor indexes are interpreted
as:</p>
<blockquote>
<div><p># 321
# 4X0
# 567</p>
</div></blockquote>
<dl class="py function">
<dt id="id0">
<code class="sig-prename descclassname">natcap.invest.scenic_quality.viewshed.</code><code class="sig-name descname">viewshed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dem_raster_path_band</span></em>, <em class="sig-param"><span class="n">viewpoint</span></em>, <em class="sig-param"><span class="n">visibility_filepath</span></em>, <em class="sig-param"><span class="n">viewpoint_height</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">curved_earth</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">refraction_coeff</span><span class="o">=</span><span class="default_value">0.13</span></em>, <em class="sig-param"><span class="n">max_distance</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">aux_filepath</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the Wang et al. reference-plane based viewshed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dem_raster_path_band</strong> (<em>tuple</em>) – A tuple of (path, band_index) where
<code class="docutils literal notranslate"><span class="pre">path</span></code> is a path to a GDAL-compatible raster on disk and
<code class="docutils literal notranslate"><span class="pre">band_index</span></code> is the 1-based band index.  This DEM must be tiled
with block sizes as a power of 2.  If the viewshed is being
adjusted for curvature of the earth and/or refraction, the
elevation units of the DEM must be in meters.  The DEM need not be
projected in meters.</p></li>
<li><p><strong>viewpoint</strong> (<em>tuple</em>) – A tuple of 2 numbers in the order
<code class="docutils literal notranslate"><span class="pre">(east</span> <span class="pre">offset,</span> <span class="pre">north</span> <span class="pre">offset)</span></code>.  These units must be of the same
units as the coordinate system of the DEM.  This index represents
the viewpoint location.  The closest pixel to this viewpoint index
will be used as the viewpoint.</p></li>
<li><p><strong>visibility_filepath</strong> (<em>string</em>) – A filepath on disk to where the
visibility raster will be written. If a raster exists in this
location, it will be overwritten.</p></li>
<li><p><strong>viewpoint_height=0.0</strong> (<em>float</em>) – The height (in the units of the DEM
height) of the observer at the viewpoint.</p></li>
<li><p><strong>curved_earth=True</strong> (<em>bool</em>) – Whether to adjust viewshed calculations for
the curvature of the earth.  If False, the earth will be treated as
though it is flat.</p></li>
<li><p><strong>refraction_coeff=0.13</strong> (<em>float</em>) – The coefficient of atmospheric
refraction that may be adjusted to accommodate varying atmospheric
conditions.  Default is <code class="docutils literal notranslate"><span class="pre">0.13</span></code>.  Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to ignore
refraction calculations.</p></li>
<li><p><strong>max_distance=None</strong> (<em>float</em>) – If provided, visibility will not be
calculated for DEM pixels that are more than this distance (in meters)
from the viewpoint.</p></li>
<li><p><strong>aux_filepath=None</strong> (<em>string</em>) – A path to a location on disk
where the raster containing the auxiliary matrix will be written.
The auxiliary matrix defines the height that a DEM must exceed in
order to be visible from the viewpoint.  This matrix is very useful
for debugging.  If a raster already exists at this location, it
will be overwritten.  If this path is not provided by the user, the
viewshed will create this file as a temporary file wherever the
system keeps its temp files and remove it when the viewshed
finishes.  See python’s <code class="docutils literal notranslate"><span class="pre">tempfile</span></code> documentation for where this
might be on your system.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – When either the viewpoint does not overlap with the DEM or
    the DEM is not tiled appropriately.</p></li>
<li><p><strong>LookupError</strong> – When the <code class="docutils literal notranslate"><span class="pre">viewpoint</span></code> coordinate pair is over nodata.</p></li>
<li><p><strong>AssertionError</strong> – When pixel dimensions are not square.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.scenic_quality">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-natcap.invest.scenic_quality" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="natcap.invest.sdr.html" class="btn btn-neutral float-right" title="natcap.invest.sdr package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="natcap.invest.reporting.html" class="btn btn-neutral float-left" title="natcap.invest.reporting package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, The Natural Capital Project

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>