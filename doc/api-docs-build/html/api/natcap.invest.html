

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>natcap.invest package &mdash; InVEST 3.8.9.post1013+gbc4bb051.d20201125 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.gif"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="natcap.invest.coastal_blue_carbon package" href="natcap.invest.coastal_blue_carbon.html" />
    <link rel="prev" title="natcap package" href="natcap.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> InVEST
          

          
            
            <img src="../_static/invest-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.8.9.post1013
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installing InVEST From Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">The InVEST CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting.html">Tutorial: Batch Processing on Windows</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">Full API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="modules.html">natcap</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="natcap.html">natcap package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="natcap.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.html#module-natcap">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="natcap.html">natcap package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="natcap.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">natcap.invest package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="natcap.html#module-natcap">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">natcap.invest package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.coastal_blue_carbon.html">natcap.invest.coastal_blue_carbon package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.delineateit.html">natcap.invest.delineateit package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.finfish_aquaculture.html">natcap.invest.finfish_aquaculture package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.fisheries.html">natcap.invest.fisheries package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.hydropower.html">natcap.invest.hydropower package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.ndr.html">natcap.invest.ndr package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.recreation.html">natcap.invest.recreation package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.reporting.html">natcap.invest.reporting package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.scenic_quality.html">natcap.invest.scenic_quality package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.sdr.html">natcap.invest.sdr package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.seasonal_water_yield.html">natcap.invest.seasonal_water_yield package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.ui.html">natcap.invest.ui package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.carbon">natcap.invest.carbon module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.cli">natcap.invest.cli module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.coastal_vulnerability">natcap.invest.coastal_vulnerability module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.crop_production_percentile">natcap.invest.crop_production_percentile module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.crop_production_regression">natcap.invest.crop_production_regression module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.datastack">natcap.invest.datastack module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.forest_carbon_edge_effect">natcap.invest.forest_carbon_edge_effect module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.globio">natcap.invest.globio module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.habitat_quality">natcap.invest.habitat_quality module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.hra">natcap.invest.hra module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.pollination">natcap.invest.pollination module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.routedem">natcap.invest.routedem module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.scenario_gen_proximity">natcap.invest.scenario_gen_proximity module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.urban_cooling_model">natcap.invest.urban_cooling_model module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.urban_flood_risk_mitigation">natcap.invest.urban_flood_risk_mitigation module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.utils">natcap.invest.utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.validation">natcap.invest.validation module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.wave_energy">natcap.invest.wave_energy module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.wind_energy">natcap.invest.wind_energy module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.coastal_blue_carbon.html">natcap.invest.coastal_blue_carbon package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.delineateit.html">natcap.invest.delineateit package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.finfish_aquaculture.html">natcap.invest.finfish_aquaculture package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.fisheries.html">natcap.invest.fisheries package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.hydropower.html">natcap.invest.hydropower package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ndr.html">natcap.invest.ndr package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.recreation.html">natcap.invest.recreation package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.reporting.html">natcap.invest.reporting package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.scenic_quality.html">natcap.invest.scenic_quality package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.sdr.html">natcap.invest.sdr package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.seasonal_water_yield.html">natcap.invest.seasonal_water_yield package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html">natcap.invest.ui package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">InVEST</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../api.html">API Reference</a> &raquo;</li>
        
          <li><a href="modules.html">natcap</a> &raquo;</li>
        
          <li><a href="natcap.html">natcap package</a> &raquo;</li>
        
      <li>natcap.invest package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/natcap.invest.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="natcap-invest-package">
<h1>natcap.invest package<a class="headerlink" href="#natcap-invest-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="natcap.invest.coastal_blue_carbon.html">natcap.invest.coastal_blue_carbon package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.coastal_blue_carbon.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.coastal_blue_carbon.html#module-natcap.invest.coastal_blue_carbon.coastal_blue_carbon">natcap.invest.coastal_blue_carbon.coastal_blue_carbon module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.coastal_blue_carbon.html#implementation-notes">Implementation Notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.coastal_blue_carbon.html#comparison-with-the-prior-implementation">Comparison with the Prior Implementation</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.coastal_blue_carbon.html#advanced-mode">“Advanced” Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.coastal_blue_carbon.html#units-of-inputs-and-outputs">Units of Inputs and Outputs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.coastal_blue_carbon.html#module-natcap.invest.coastal_blue_carbon.preprocessor">natcap.invest.coastal_blue_carbon.preprocessor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.coastal_blue_carbon.html#module-natcap.invest.coastal_blue_carbon">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="natcap.invest.delineateit.html">natcap.invest.delineateit package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.delineateit.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.delineateit.html#module-natcap.invest.delineateit.delineateit">natcap.invest.delineateit.delineateit module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.delineateit.html#module-natcap.invest.delineateit.delineateit_core">natcap.invest.delineateit.delineateit_core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.delineateit.html#module-natcap.invest.delineateit">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="natcap.invest.finfish_aquaculture.html">natcap.invest.finfish_aquaculture package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.finfish_aquaculture.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.finfish_aquaculture.html#module-natcap.invest.finfish_aquaculture.finfish_aquaculture">natcap.invest.finfish_aquaculture.finfish_aquaculture module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.finfish_aquaculture.html#module-natcap.invest.finfish_aquaculture.finfish_aquaculture_core">natcap.invest.finfish_aquaculture.finfish_aquaculture_core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.finfish_aquaculture.html#module-natcap.invest.finfish_aquaculture">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="natcap.invest.fisheries.html">natcap.invest.fisheries package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.fisheries.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.fisheries.html#module-natcap.invest.fisheries.fisheries">natcap.invest.fisheries.fisheries module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.fisheries.html#module-natcap.invest.fisheries.fisheries_hst">natcap.invest.fisheries.fisheries_hst module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.fisheries.html#module-natcap.invest.fisheries.fisheries_hst_io">natcap.invest.fisheries.fisheries_hst_io module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.fisheries.html#module-natcap.invest.fisheries.fisheries_io">natcap.invest.fisheries.fisheries_io module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.fisheries.html#module-natcap.invest.fisheries.fisheries_model">natcap.invest.fisheries.fisheries_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.fisheries.html#module-natcap.invest.fisheries">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="natcap.invest.hydropower.html">natcap.invest.hydropower package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.hydropower.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.hydropower.html#module-natcap.invest.hydropower.hydropower_water_yield">natcap.invest.hydropower.hydropower_water_yield module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.hydropower.html#module-natcap.invest.hydropower">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="natcap.invest.ndr.html">natcap.invest.ndr package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ndr.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ndr.html#module-natcap.invest.ndr.ndr">natcap.invest.ndr.ndr module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ndr.html#module-natcap.invest.ndr.ndr_core">natcap.invest.ndr.ndr_core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ndr.html#id1">natcap.invest.ndr.ndr_core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ndr.html#module-natcap.invest.ndr">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="natcap.invest.recreation.html">natcap.invest.recreation package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.recreation.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.recreation.html#module-natcap.invest.recreation.buffered_numpy_disk_map">natcap.invest.recreation.buffered_numpy_disk_map module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.recreation.html#module-natcap.invest.recreation.out_of_core_quadtree">natcap.invest.recreation.out_of_core_quadtree module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.recreation.html#id1">natcap.invest.recreation.out_of_core_quadtree module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.recreation.html#module-natcap.invest.recreation.recmodel_client">natcap.invest.recreation.recmodel_client module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.recreation.html#module-natcap.invest.recreation.recmodel_server">natcap.invest.recreation.recmodel_server module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.recreation.html#module-natcap.invest.recreation.recmodel_workspace_fetcher">natcap.invest.recreation.recmodel_workspace_fetcher module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.recreation.html#module-natcap.invest.recreation">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="natcap.invest.reporting.html">natcap.invest.reporting package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.reporting.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.reporting.html#module-natcap.invest.reporting.html">natcap.invest.reporting.html module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.reporting.html#module-natcap.invest.reporting.table_generator">natcap.invest.reporting.table_generator module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.reporting.html#module-natcap.invest.reporting">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="natcap.invest.scenic_quality.html">natcap.invest.scenic_quality package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.scenic_quality.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.scenic_quality.html#module-natcap.invest.scenic_quality.scenic_quality">natcap.invest.scenic_quality.scenic_quality module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.scenic_quality.html#module-natcap.invest.scenic_quality.viewshed">natcap.invest.scenic_quality.viewshed module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.scenic_quality.html#id1">natcap.invest.scenic_quality.viewshed module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.scenic_quality.html#module-natcap.invest.scenic_quality">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="natcap.invest.sdr.html">natcap.invest.sdr package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.sdr.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.sdr.html#module-natcap.invest.sdr.sdr">natcap.invest.sdr.sdr module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.sdr.html#module-natcap.invest.sdr.sdr_core">natcap.invest.sdr.sdr_core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.sdr.html#id1">natcap.invest.sdr.sdr_core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.sdr.html#module-natcap.invest.sdr">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="natcap.invest.seasonal_water_yield.html">natcap.invest.seasonal_water_yield package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.seasonal_water_yield.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.seasonal_water_yield.html#module-natcap.invest.seasonal_water_yield.seasonal_water_yield">natcap.invest.seasonal_water_yield.seasonal_water_yield module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.seasonal_water_yield.html#module-natcap.invest.seasonal_water_yield.seasonal_water_yield_core">natcap.invest.seasonal_water_yield.seasonal_water_yield_core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.seasonal_water_yield.html#id1">natcap.invest.seasonal_water_yield.seasonal_water_yield_core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.seasonal_water_yield.html#module-natcap.invest.seasonal_water_yield">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="natcap.invest.ui.html">natcap.invest.ui package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.carbon">natcap.invest.ui.carbon module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.cbc">natcap.invest.ui.cbc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.coastal_vulnerability">natcap.invest.ui.coastal_vulnerability module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.crop_production">natcap.invest.ui.crop_production module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.delineateit">natcap.invest.ui.delineateit module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.execution">natcap.invest.ui.execution module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.finfish">natcap.invest.ui.finfish module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.fisheries">natcap.invest.ui.fisheries module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.forest_carbon">natcap.invest.ui.forest_carbon module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.globio">natcap.invest.ui.globio module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.habitat_quality">natcap.invest.ui.habitat_quality module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.hra">natcap.invest.ui.hra module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.hydropower">natcap.invest.ui.hydropower module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.inputs">natcap.invest.ui.inputs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.launcher">natcap.invest.ui.launcher module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.model">natcap.invest.ui.model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.ndr">natcap.invest.ui.ndr module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.pollination">natcap.invest.ui.pollination module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.recreation">natcap.invest.ui.recreation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.routedem">natcap.invest.ui.routedem module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.scenario_gen">natcap.invest.ui.scenario_gen module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.scenic_quality">natcap.invest.ui.scenic_quality module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.sdr">natcap.invest.ui.sdr module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.seasonal_water_yield">natcap.invest.ui.seasonal_water_yield module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.urban_cooling_model">natcap.invest.ui.urban_cooling_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.urban_flood_risk_mitigation">natcap.invest.ui.urban_flood_risk_mitigation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.usage">natcap.invest.ui.usage module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.wave_energy">natcap.invest.ui.wave_energy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui.wind_energy">natcap.invest.ui.wind_energy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html#module-natcap.invest.ui">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-natcap.invest.carbon">
<span id="natcap-invest-carbon-module"></span><h2>natcap.invest.carbon module<a class="headerlink" href="#module-natcap.invest.carbon" title="Permalink to this headline">¶</a></h2>
<p>Carbon Storage and Sequestration.</p>
<dl class="py function">
<dt id="natcap.invest.carbon.execute">
<code class="sig-prename descclassname">natcap.invest.carbon.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.carbon.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>InVEST Carbon Model.</p>
<p>Calculate the amount of carbon stocks given a landscape, or the difference
due to a future change, and/or the tradeoffs between that and a REDD
scenario, and calculate economic valuation on those scenarios.</p>
<p>The model can operate on a single scenario, a combined present and future
scenario, as well as an additional REDD scenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong><strong>[</strong><strong>'workspace_dir'</strong><strong>]</strong> (<em>string</em>) – a path to the directory that will
write output and other temporary files during calculation.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'results_suffix'</strong><strong>]</strong> (<em>string</em>) – appended to any output file name.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'lulc_cur_path'</strong><strong>]</strong> (<em>string</em>) – a path to a raster representing the
current carbon stocks.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'calc_sequestration'</strong><strong>]</strong> (<em>bool</em>) – if true, sequestration should
be calculated and ‘lulc_fut_path’ and ‘do_redd’ should be defined.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'lulc_fut_path'</strong><strong>]</strong> (<em>string</em>) – a path to a raster representing future
landcover scenario.  Optional, but if present and well defined
will trigger a sequestration calculation.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'do_redd'</strong><strong>]</strong> (<em>bool</em>) – if true, REDD analysis should be calculated
and ‘lulc_redd_path’ should be defined</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'lulc_redd_path'</strong><strong>]</strong> (<em>string</em>) – a path to a raster representing the
alternative REDD scenario which is only possible if the
args[‘lulc_fut_path’] is present and well defined.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'carbon_pools_path'</strong><strong>]</strong> (<em>string</em>) – path to CSV or that indexes carbon
storage density to lulc codes. (required if ‘do_uncertainty’ is
false)</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'lulc_cur_year'</strong><strong>]</strong> (<em>int/string</em>) – an integer representing the year
of <cite>args[‘lulc_cur_path’]</cite> used if <cite>args[‘calc_sequestration’]</cite>
is True.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'lulc_fut_year'</strong><strong>]</strong> (<em>int/string</em>) – an integer representing the year
of <cite>args[‘lulc_fut_path’]</cite> used in valuation if it exists.
Required if  <cite>args[‘do_valuation’]</cite> is True and
<cite>args[‘lulc_fut_path’]</cite> is present and well defined.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'do_valuation'</strong><strong>]</strong> (<em>bool</em>) – if true then run the valuation model on
available outputs.  At a minimum will run on carbon stocks, if
sequestration with a future scenario is done and/or a REDD
scenario calculate NPV for either and report in final HTML
document.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'price_per_metric_ton_of_c'</strong><strong>]</strong> (<em>float</em>) – Is the present value of
carbon per metric ton. Used if <cite>args[‘do_valuation’]</cite> is present
and True.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'discount_rate'</strong><strong>]</strong> (<em>float</em>) – Discount rate used if NPV calculations
are required.  Used if <cite>args[‘do_valuation’]</cite> is  present and
True.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'rate_change'</strong><strong>]</strong> (<em>float</em>) – Annual rate of change in price of carbon
as a percentage.  Used if <cite>args[‘do_valuation’]</cite> is  present and
True.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'n_workers'</strong><strong>]</strong> (<em>int</em>) – (optional) The number of worker processes to
use for processing this model.  If omitted, computation will take
place in the current process.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.cli">
<span id="natcap-invest-cli-module"></span><h2>natcap.invest.cli module<a class="headerlink" href="#module-natcap.invest.cli" title="Permalink to this headline">¶</a></h2>
<p>Single entry point for all InVEST applications.</p>
<dl class="py class">
<dt id="natcap.invest.cli.SelectModelAction">
<em class="property">class </em><code class="sig-prename descclassname">natcap.invest.cli.</code><code class="sig-name descname">SelectModelAction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">option_strings</span></em>, <em class="sig-param"><span class="n">dest</span></em>, <em class="sig-param"><span class="n">nargs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">const</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">choices</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">required</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">help</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metavar</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.cli.SelectModelAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">argparse.Action</span></code></p>
<p>Given a possibly-ambiguous model string, identify the model to run.</p>
<p>This is a subclass of <code class="docutils literal notranslate"><span class="pre">argparse.Action</span></code> and is executed when the argparse
interface detects that the user has attempted to select a model by name.</p>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.cli.build_model_list_json">
<code class="sig-prename descclassname">natcap.invest.cli.</code><code class="sig-name descname">build_model_list_json</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.cli.build_model_list_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a json object of relevant information for the CLI.</p>
<p>The json object returned uses the human-readable model names for keys
and the values are another dict containing the internal python name
of the model and the aliases recognized by the CLI.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A string representation of the JSON object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.cli.build_model_list_table">
<code class="sig-prename descclassname">natcap.invest.cli.</code><code class="sig-name descname">build_model_list_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.cli.build_model_list_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a table of model names, aliases and other details.</p>
<p>This table is a table only in the sense that its contents are aligned
into columns, but are not separated by a delimited.  This table
is intended to be printed to stdout.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A string representation of the formatted table.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.cli.main">
<code class="sig-prename descclassname">natcap.invest.cli.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">user_args</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.cli.main" title="Permalink to this definition">¶</a></dt>
<dd><p>CLI entry point for launching InVEST runs.</p>
<p>This command-line interface supports two methods of launching InVEST models
from the command-line:</p>
<blockquote>
<div><ul class="simple">
<li><p>through its GUI</p></li>
<li><p>in headless mode, without its GUI.</p></li>
</ul>
</div></blockquote>
<p>Running in headless mode allows us to bypass all GUI functionality,
so models may be run in this way without having GUI packages
installed.</p>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.coastal_vulnerability">
<span id="natcap-invest-coastal-vulnerability-module"></span><h2>natcap.invest.coastal_vulnerability module<a class="headerlink" href="#module-natcap.invest.coastal_vulnerability" title="Permalink to this headline">¶</a></h2>
<p>InVEST Coastal Vulnerability.</p>
<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.aggregate_population_density">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">aggregate_population_density</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_shore_point_vector_path</span></em>, <em class="sig-param"><span class="n">base_population_raster_path</span></em>, <em class="sig-param"><span class="n">search_radius</span></em>, <em class="sig-param"><span class="n">model_resolution</span></em>, <em class="sig-param"><span class="n">workspace_dir</span></em>, <em class="sig-param"><span class="n">file_suffix</span></em>, <em class="sig-param"><span class="n">target_pickle_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.aggregate_population_density" title="Permalink to this definition">¶</a></dt>
<dd><p>Get population density within a search radius of points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_shore_point_vector_path</strong> (<em>string</em>) – path to point vector</p></li>
<li><p><strong>base_population_raster_path</strong> (<em>string</em>) – path to raster with population
values</p></li>
<li><p><strong>search_radius</strong> (<em>float</em>) – radius in meters around each point to search
for valid population pixels.</p></li>
<li><p><strong>model_resolution</strong> (<em>float</em>) – distance in meters of the shore_point
spacing, used here as a target pixel size in warp raster.</p></li>
<li><p><strong>workspace_dir</strong> (<em>string</em>) – path to directory for intermediate files</p></li>
<li><p><strong>file_suffix</strong> (<em>string</em>) – appended to any output filename.</p></li>
<li><p><strong>target_pickle_path</strong> (<em>string</em>) – path to pickle file storing dict
keyed by shore point id.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.assemble_results_and_calculate_exposure">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">assemble_results_and_calculate_exposure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">risk_id_path_list</span></em>, <em class="sig-param"><span class="n">habitat_protection_path</span></em>, <em class="sig-param"><span class="n">base_point_vector_path</span></em>, <em class="sig-param"><span class="n">target_intermediate_vector_path</span></em>, <em class="sig-param"><span class="n">target_intermediate_csv_path</span></em>, <em class="sig-param"><span class="n">target_output_vector_path</span></em>, <em class="sig-param"><span class="n">target_output_csv_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.assemble_results_and_calculate_exposure" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the final exposure score, with and without habitat protection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>risk_id_path_list</strong> (<em>list</em>) – <p>list of 3-tuples like:
(‘relief.pickle’, True, ‘R_relief’)</p>
<blockquote>
<div><ol class="arabic">
<li><dl class="simple">
<dt>string: path to pickle with intermediate</dt><dd><p>exposure values for a single variable</p>
</dd>
</dl>
</li>
<li><dl>
<dt>bool:</dt><dd><dl class="simple">
<dt>if True: variable contains values that need binning</dt><dd><p>by percentile to convert to 1-5 ranks.</p>
</dd>
</dl>
<p>if False: variable is already on the 1-5 rank scale.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>string: This variable is used as the fieldname in</dt><dd><p>target_output_vector_path. And if the string includes
the prefix ‘<a href="#id1"><span class="problematic" id="id2">R_</span></a>’, the variable is included in the
final exposure equation.</p>
</dd>
</dl>
</li>
</ol>
</div></blockquote>
</p></li>
<li><p><strong>habitat_protection_path</strong> (<em>string</em>) – path to csv file with the
intermediate habitat ranks.</p></li>
<li><p><strong>base_point_vector_path</strong> (<em>string</em>) – path to shore point vector.</p></li>
<li><p><strong>target_intermediate_vector_path</strong> (<em>string</em>) – path to point vector
populated with fields and raw values for all risk variables
that require binning to ranks.</p></li>
<li><p><strong>target_output_vector_path</strong> (<em>string</em>) – path to point vector
populated with fields and rank values for all risk variables,
final exposure, exposure without habitats, and population density.</p></li>
<li><p><strong>target_output_csv_path</strong> (<em>string</em>) – path to a csv copy of
target_output_vector_path.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.calculate_final_risk">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">calculate_final_risk</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">output_vector_path</span></em>, <em class="sig-param"><span class="n">output_csv_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.calculate_final_risk" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply geometric mean calculation to variables at each shore point.</p>
<p>This function modifies the ‘output_vector_path’ file by adding new fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_vector_path</strong> (<em>string</em>) – path to shore point vector populated
with numeric fields named with the ‘<a href="#id3"><span class="problematic" id="id4">R_</span></a>’ prefix. These fields
are included in the geometric mean.</p></li>
<li><p><strong>output_csv_path</strong> (<em>string</em>) – path to csv copy of the final
‘output_vector_path’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.calculate_geomorphology_exposure">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">calculate_geomorphology_exposure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">geomorphology_vector_path</span></em>, <em class="sig-param"><span class="n">geomorphology_fill_value</span></em>, <em class="sig-param"><span class="n">base_shore_point_vector_path</span></em>, <em class="sig-param"><span class="n">model_resolution</span></em>, <em class="sig-param"><span class="n">target_pickle_path</span></em>, <em class="sig-param"><span class="n">target_missing_data_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.calculate_geomorphology_exposure" title="Permalink to this definition">¶</a></dt>
<dd><p>Join geomorphology ranks to shore points by proximity.</p>
<p>Buffer each shore point by half the model_resolution and find all
geomorphology types present around each point. Return the average
of the geomorphology ranks, unless none are present, then return the
geomorphology_fill_value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>geomorphology_vector_path</strong> (<em>string</em>) – path to polyline vector
with an integer attribute named <code class="docutils literal notranslate"><span class="pre">RANK</span></code> that contains values
in (1, 2, 3, 4, 5).</p></li>
<li><p><strong>geomorphology_fill_value</strong> (<em>int</em>) – integer in (1, 2, 3, 4, 5).</p></li>
<li><p><strong>base_shore_point_vector_path</strong> (<em>string</em>) – path to point vector</p></li>
<li><p><strong>model_resolution</strong> (<em>float</em>) – distance in meters of the shore_point
spacing.</p></li>
<li><p><strong>target_pickle_path</strong> (<em>string</em>) – path to pickle file storing dict
keyed by point fid.</p></li>
<li><p><strong>target_missing_data_path</strong> (<em>string</em>) – path to create point vector showing
which points received the geomorphology fill value because no
geomorphology segments were found within the search radius.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.calculate_habitat_rank">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">calculate_habitat_rank</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">habitat_pickle_list</span></em>, <em class="sig-param"><span class="n">target_habitat_protection_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.calculate_habitat_rank" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine dicts of habitat ranks into a dataframe and calcuate Rhab.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>habitat_pickle_list</strong> (<em>list</em>) – list of file paths to pickled dictionaries
in the form of: {‘habitat_id’: {&lt;id0&gt;: 5, &lt;id1&gt;.: 5, &lt;id2&gt;: 5}}</p></li>
<li><p><strong>target_habitat_protection_path</strong> (<em>string</em>) – <p>path to a csv file with a row
for each shore point, and a header like:</p>
<blockquote>
<div><p>’fid’,’kelp’,’eelgrass’,’coral’,’R_hab’</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.calculate_relief_exposure">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">calculate_relief_exposure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_shore_point_vector_path</span></em>, <em class="sig-param"><span class="n">base_dem_path</span></em>, <em class="sig-param"><span class="n">dem_averaging_radius</span></em>, <em class="sig-param"><span class="n">model_resolution</span></em>, <em class="sig-param"><span class="n">workspace_dir</span></em>, <em class="sig-param"><span class="n">file_suffix</span></em>, <em class="sig-param"><span class="n">target_relief_pickle_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.calculate_relief_exposure" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate average of DEM pixels within a radius of shore points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_shore_point_vector_path</strong> (<em>string</em>) – path to a shore point vector.</p></li>
<li><p><strong>base_dem_path</strong> (<em>string</em>) – path to a DEM raster.</p></li>
<li><p><strong>dem_averaging_radius</strong> (<em>float</em>) – distance in meters</p></li>
<li><p><strong>model_resolution</strong> (<em>float</em>) – distance in meters of the shore_point
spacing, used here as a target pixel size in warp raster.</p></li>
<li><p><strong>workspace_dir</strong> (<em>string</em>) – path to a directory for intermediate files</p></li>
<li><p><strong>file_suffix</strong> (<em>string</em>) – to be appended to output filenames</p></li>
<li><p><strong>target_relief_pickle_path</strong> (<em>string</em>) – path to pickle file storing dict
keyed by shore point id.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.calculate_surge_exposure">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">calculate_surge_exposure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_shore_point_vector_path</span></em>, <em class="sig-param"><span class="n">shelf_contour_path</span></em>, <em class="sig-param"><span class="n">target_surge_pickle_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.calculate_surge_exposure" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate surge potential as distance to nearest point on a contour.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_shore_point_vector_path</strong> (<em>string</em>) – path to a point shapefile to
for relief point analysis.</p></li>
<li><p><strong>shelf_contour_path</strong> (<em>string</em>) – path to a polyline vector.</p></li>
<li><p><strong>target_surge_pickle_path</strong> (<em>string</em>) – path to pickle file storing dict
keyed by shore point id.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.calculate_wave_exposure">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">calculate_wave_exposure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_fetch_point_vector_path</span></em>, <em class="sig-param"><span class="n">max_fetch_distance</span></em>, <em class="sig-param"><span class="n">target_wave_vector_path</span></em>, <em class="sig-param"><span class="n">target_wave_exposure_pickle_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.calculate_wave_exposure" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate wave exposure values at each shore point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_fetch_point_vector_path</strong> (<em>string</em>) – path to a point shapefile that
contains 16 ‘WavP_[direction]’ fields, ‘WavPPCT[direction]’
fields, V10PCT_[direction] fields, ‘fdist_[direction]’ fields,
‘fdepth_[direction]’ fields.</p></li>
<li><p><strong>max_fetch_distance</strong> (<em>float</em>) – max fetch distance before a wind fetch ray
is terminated.</p></li>
<li><p><strong>target_wave_vector_path</strong> (<em>string</em>) – path to GPKG vector that this
function creates to store intermediate ocean-wave and
local-wind-driven-wave energy values.</p></li>
<li><p><strong>target_wave_exposure_pickle_path</strong> (<em>string</em>) – path to pickle file storing
dict keyed by shore point id.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.calculate_wind_exposure">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">calculate_wind_exposure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_shore_point_vector_path</span></em>, <em class="sig-param"><span class="n">landmass_polygon_pickle_path</span></em>, <em class="sig-param"><span class="n">landmass_line_rtree_path</span></em>, <em class="sig-param"><span class="n">landmass_lines_pickle_path</span></em>, <em class="sig-param"><span class="n">bathymetry_raster_path</span></em>, <em class="sig-param"><span class="n">target_fetch_rays_path</span></em>, <em class="sig-param"><span class="n">max_fetch_distance</span></em>, <em class="sig-param"><span class="n">target_shore_point_vector_path</span></em>, <em class="sig-param"><span class="n">target_wind_exposure_pickle_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.calculate_wind_exposure" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate wind exposure for each shore point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_shore_point_vector_path</strong> (<em>string</em>) – path to a point vector
with WWIII variables in the table.</p></li>
<li><p><strong>landmass_polygon_pickle_path</strong> (<em>string</em>) – path to pickle
storing shapely polygon geometry of the landmass.</p></li>
<li><p><strong>landmass_line_rtree_path</strong> (<em>string</em>) – path to rtree file indexing
bounds of line geometries.</p></li>
<li><p><strong>landmass_lines_pickle_path</strong> (<em>string</em>) – path to pickle
storing list of shapely line geometries. List index must match
index of <code class="docutils literal notranslate"><span class="pre">landmass_line_rtree_path</span></code>.</p></li>
<li><p><strong>bathymetry_raster_path</strong> (<em>string</em>) – path to bathymetry raster that has
already had positive pixel values clamped to 0.</p></li>
<li><p><strong>target_fetch_rays_path</strong> (<em>string</em>) – path to target line string file
representing the rays cast in 16 directions around each shore point</p></li>
<li><p><strong>max_fetch_distance</strong> (<em>float</em>) – maximum fetch distance for a ray in
meters.</p></li>
<li><p><strong>target_shore_point_vector_path</strong> (<em>string</em>) – path to target point file,
will be a copy of <code class="docutils literal notranslate"><span class="pre">base_shore_point_vector_path</span></code>’s geometry with
an ‘REI’ (relative exposure index) field added.</p></li>
<li><p><strong>target_wind_exposure_pickle_path</strong> (<em>string</em>) – path to pickle file storing
dict keyed by shore point fid, with wind exposure values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.clip_and_project_raster">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">clip_and_project_raster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_raster_path</span></em>, <em class="sig-param"><span class="n">clipping_box</span></em>, <em class="sig-param"><span class="n">target_srs_wkt</span></em>, <em class="sig-param"><span class="n">model_resolution</span></em>, <em class="sig-param"><span class="n">working_dir</span></em>, <em class="sig-param"><span class="n">file_suffix</span></em>, <em class="sig-param"><span class="n">target_raster_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.clip_and_project_raster" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip a raster to a box in the raster’s native SRS, then reproject.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_raster_path</strong> (<em>string</em>) – path to a gdal raster</p></li>
<li><p><strong>clipping_box</strong> (<em>list</em>) – sequence of floats that are coordinates in the
target_srs [minx, miny, maxx, maxy]</p></li>
<li><p><strong>target_srs_wkt</strong> (<em>string</em>) – well-known-text spatial reference system</p></li>
<li><p><strong>model_resolution</strong> (<em>float</em>) – value for target pixel size</p></li>
<li><p><strong>working_dir</strong> (<em>string</em>) – path to directory for intermediate files</p></li>
<li><p><strong>file_suffix</strong> (<em>string</em>) – appended to any output filename.</p></li>
<li><p><strong>target_raster_path</strong> (<em>string</em>) – path to clipped and warped raster.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.clip_and_project_vector">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">clip_and_project_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_vector_path</span></em>, <em class="sig-param"><span class="n">clipping_box</span></em>, <em class="sig-param"><span class="n">target_srs_wkt</span></em>, <em class="sig-param"><span class="n">tmp_vector_path</span></em>, <em class="sig-param"><span class="n">target_vector_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.clip_and_project_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip a vector to a box in the vector’s native SRS, then reproject.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_vector_path</strong> (<em>string</em>) – path to polygon or multipolygon type vector</p></li>
<li><p><strong>clipping_box</strong> (<em>list</em>) – sequence of floats that are coordinates in the
target_srs [minx, miny, maxx, maxy]</p></li>
<li><p><strong>target_srs_wkt</strong> (<em>string</em>) – well-known-text spatial reference system</p></li>
<li><p><strong>tmp_vector_path</strong> (<em>string</em>) – path to clipped but unprojected .gpkg vector</p></li>
<li><p><strong>target_vector_path</strong> (<em>string</em>) – path to clipped and projected .gpkg vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.compute_wave_height">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">compute_wave_height</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">Un</span></em>, <em class="sig-param"><span class="n">Fn</span></em>, <em class="sig-param"><span class="n">dn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.compute_wave_height" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute Wave Height by User Guide eq 10.</p>
<p>This equation may not be suitable for wind speed values &lt; 1 m/s
The WWIII database tends to include some 0s, otherwise values &gt; 2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Un</strong> (<em>float</em>) – wind velocity in meters per second.</p></li>
<li><p><strong>Fn</strong> (<em>float</em>) – fetch ray length in meters.</p></li>
<li><p><strong>dn</strong> (<em>float</em>) – water depth in negative meters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Wave height in meters</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.compute_wave_period">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">compute_wave_period</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">Un</span></em>, <em class="sig-param"><span class="n">Fn</span></em>, <em class="sig-param"><span class="n">dn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.compute_wave_period" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute Wave Period by User Guide eq 10.</p>
<p>This equation may not be suitable for wind speed values &lt; 1 m/s
The WWIII database tends to include some 0s, otherwise values &gt; 2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Un</strong> (<em>float</em>) – wind velocity in meters per second.</p></li>
<li><p><strong>Fn</strong> (<em>float</em>) – fetch ray length in meters.</p></li>
<li><p><strong>dn</strong> (<em>float</em>) – water depth in negative meters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Wave period in seconds</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.construct_field_list">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">construct_field_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">basename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.construct_field_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of strings with compass degree suffix on a basename.</p>
<p>This is useful for constructing fieldnames that appear in the WWIII table
and passing them to _copy_point_vector_geom_to_gpkg.</p>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.execute">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>InVEST Coastal Vulnerability Model.</p>
<p>For points along a coastline, evaluate the relative exposure of points
to coastal hazards based on up to eight biophysical hazard indices.
Also quantify the role of habitats in reducing the hazard. Optionally
summarize the population density in proximity to each shore point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong><strong>[</strong><strong>'workspace_dir'</strong><strong>]</strong> (<em>string</em>) – (required) a path to the directory that
will write output and other temporary files during calculation.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'results_suffix'</strong><strong>]</strong> (<em>string</em>) – (optional) appended to any output
filename.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'aoi_vector_path'</strong><strong>]</strong> (<em>string</em>) – (required) path to a polygon vector
that is projected in a coordinate system with units of meters.
The polygon should intersect the landmass and the shelf contour
line.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'model_resolution'</strong><strong>]</strong> (<em>string</em>) – (required) distance in meters.
Points are spaced along the coastline at intervals of this
distance.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'landmass_vector_path'</strong><strong>]</strong> (<em>string</em>) – (required) path to a polygon
vector representing landmasses in the region of interest.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'wwiii_vector_path'</strong><strong>]</strong> (<em>string</em>) – (required) path to a point vector
containing wind and wave information across the region of interest.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'max_fetch_distance'</strong><strong>]</strong> (<em>string</em>) – (required) maximum distance
in meters to extend rays from shore points. Points with rays equal
to this distance will accumulate ocean-driven wave exposure along
those rays and local-wind-driven wave exposure along the shorter
rays.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'bathymetry_raster_path'</strong><strong>]</strong> (<em>string</em>) – (required) path to a raster
representing the depth below sea level, in negative meters. Should
cover the area extending outward from the AOI to the
max_fetch_distance.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'shelf_contour_vector_path'</strong><strong>]</strong> (<em>string</em>) – (required) path to a
polyline vector delineating edges of the continental shelf
or other bathymetry contour.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'dem_path'</strong><strong>]</strong> (<em>string</em>) – (required) path to a raster representing the
elevation on land in the region of interest.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'dem_averaging_radius'</strong><strong>]</strong> (<em>int</em><em> or </em><em>float</em>) – (required) a value &gt;= 0.
The radius in meters around each shore point in which to compute
the average elevation.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'habitat_table_path'</strong><strong>]</strong> (<em>string</em>) – <p>(rqeuired) path to a CSV file with
the following four fields:</p>
<blockquote>
<div><p>’id’: unique string to represent each habitat
‘path’: absolute or relative path to a polygon vector
‘rank’: integer from 1 to 5 representing the relative</p>
<blockquote>
<div><p>protection offered by this habitat</p>
</div></blockquote>
<dl class="simple">
<dt>’protection distance (m)’: integer or float used as a</dt><dd><p>search radius around each shore point.</p>
</dd>
</dl>
</div></blockquote>
</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'geomorphology_vector_path'</strong><strong>]</strong> (<em>string</em>) – (optional) path to a
polyline vector that has a field called “RANK” with values from
1 to 5 in the attribute table.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'geomorphology_fill_value'</strong><strong>]</strong> (<em>int</em>) – (optional) a value from 1 to 5
that will be used as a geomorphology rank for any points not
proximate to the geomorphology_vector_path.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'population_raster_path'</strong><strong>]</strong> (<em>string</em>) – (optional) path a raster with
values of total population per pixel.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'population_radius'</strong><strong>]</strong> (<em>int</em><em> or </em><em>float</em>) – (optional) a value &gt;= 0.
The radius in meters around each shore point in which to compute
the population density.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'slr_vector_path'</strong><strong>]</strong> (<em>string</em>) – (optional) path to point vector
containing the field <code class="docutils literal notranslate"><span class="pre">args['slr_field']</span></code>.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'slr_field'</strong><strong>]</strong> (<em>string</em>) – name of a field in
<code class="docutils literal notranslate"><span class="pre">args['slr_vector_path']</span></code> containing numeric values.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'n_workers'</strong><strong>]</strong> (<em>int</em>) – (optional) The number of worker processes to
use for processing this model.  If omitted, computation will take
place in the current process.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.extract_bathymetry_along_ray">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">extract_bathymetry_along_ray</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ray_geometry</span></em>, <em class="sig-param"><span class="n">bathy_gt</span></em>, <em class="sig-param"><span class="n">bathy_nodata</span></em>, <em class="sig-param"><span class="n">bathy_band</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.extract_bathymetry_along_ray" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract valid raster values along a ray.</p>
<p>Extract bathymetry values at points along a ray.
Points are interpolated along the ray at an interval equal to the rasters
pixel size, and points are explicitly placed at each ray endpoint.</p>
<p>If only nodata values are extracted along the entire length of the ray,
expand the extraction window as needed on the final ray point, until some
valid pixels are found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ray_geometry</strong> (<em>ogr.wkbLineString</em>) – The ray along which to extract values</p></li>
<li><p><strong>bathy_gt</strong> (<em>list</em>) – The bathymetry raster’s geotransform</p></li>
<li><p><strong>bathy_nodata</strong> (<em>number</em>) – The bathymetry raster’s nodata value</p></li>
<li><p><strong>bathy_band</strong> (<em>gdal raster band</em>) – An open gdal raster band containing the
bathymetry values</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError if an extraction point is outside the bounds of the raster.</strong> – </p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of the non-nodata pixel values extracted at each point.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.geometry_to_lines">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">geometry_to_lines</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">geometry</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.geometry_to_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a geometry object to a list of lines.</p>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.interpolate_sealevelrise_points">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">interpolate_sealevelrise_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_shore_point_vector_path</span></em>, <em class="sig-param"><span class="n">slr_points_vector_path</span></em>, <em class="sig-param"><span class="n">slr_fieldname</span></em>, <em class="sig-param"><span class="n">target_pickle_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.interpolate_sealevelrise_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Spatial join of sea-level rise data to shore points.</p>
<p>Finds nearest sea-level points to each shore point and calculates
a weighted average of values with inverse-distance weights.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_shore_point_vector_path</strong> (<em>string</em>) – path to point vector</p></li>
<li><p><strong>slr_points_vector_path</strong> (<em>string</em>) – path to point vector containing
the field <code class="docutils literal notranslate"><span class="pre">slr_fieldname</span></code>.</p></li>
<li><p><strong>slr_fieldname</strong> (<em>string</em>) – name of a field containing numeric values</p></li>
<li><p><strong>target_pickle_path</strong> (<em>string</em>) – path to pickle file storing dict
keyed by point fid.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.interpolate_wwiii_to_shore">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">interpolate_wwiii_to_shore</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_shore_point_vector_path</span></em>, <em class="sig-param"><span class="n">wwiii_vector_path</span></em>, <em class="sig-param"><span class="n">target_shore_point_vector_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.interpolate_wwiii_to_shore" title="Permalink to this definition">¶</a></dt>
<dd><p>Spatial join of Wave Watch 3 data to shore points.</p>
<p>Finds nearest WW3 points to each shore point and calculates
a weighted average of values with distance weights.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_shore_point_vector_path</strong> (<em>string</em>) – path to point vector</p></li>
<li><p><strong>wwiii_vector_path</strong> (<em>string</em>) – path to point shapefile representing
the Wave Watch III data.</p></li>
<li><p><strong>target_shore_point_vector_path</strong> (<em>string</em>) – path to point vector file
with interpolated wwiii data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.mask_positive_values_op">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">mask_positive_values_op</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">depth_array</span></em>, <em class="sig-param"><span class="n">nodata</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.mask_positive_values_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert positive values to nodata for bathymetry.</p>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.polygon_to_lines">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">polygon_to_lines</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">geometry</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.polygon_to_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of shapely lines given higher order shapely geometry.</p>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.prepare_landmass_line_index_and_interpolate_shore_points">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">prepare_landmass_line_index_and_interpolate_shore_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">aoi_vector_path</span></em>, <em class="sig-param"><span class="n">landmass_vector_path</span></em>, <em class="sig-param"><span class="n">model_resolution</span></em>, <em class="sig-param"><span class="n">target_points_path</span></em>, <em class="sig-param"><span class="n">target_polygon_pickle_path</span></em>, <em class="sig-param"><span class="n">target_lines_pickle_path</span></em>, <em class="sig-param"><span class="n">target_rtree_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.prepare_landmass_line_index_and_interpolate_shore_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare landmass for line operations and interpolate shore points.</p>
<p>Converts landmass polygons to lines and creates shore points by
interpolating at a specified interval over those lines. Saves spatial
index of lines for fast intersections. Also saves unioned geometry
polygons for fast point-in-polygon checks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aoi_vector_path</strong> (<em>string</em>) – path to polygon vector used to define
boundaries for adding points.</p></li>
<li><p><strong>landmass_vector_path</strong> (<em>string</em>) – path to polygon vector</p></li>
<li><p><strong>model_resolution</strong> (<em>float</em>) – distance in meters for the point’s spacing</p></li>
<li><p><strong>target_points_path</strong> (<em>string</em>) – path to .gpkg point vector</p></li>
<li><p><strong>target_polygon_pickle_path</strong> (<em>string</em>) – path to pickle
storing shapely polygon geometry.</p></li>
<li><p><strong>target_lines_pickle_path</strong> (<em>string</em>) – path to pickle
storing list of shapely line geometries</p></li>
<li><p><strong>target_rtree_path</strong> (<em>string</em>) – path to rtree file indexing
bounds of line geometries.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.search_for_habitat">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">search_for_habitat</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_shore_point_vector_path</span></em>, <em class="sig-param"><span class="n">search_radius</span></em>, <em class="sig-param"><span class="n">habitat_rank</span></em>, <em class="sig-param"><span class="n">habitat_id</span></em>, <em class="sig-param"><span class="n">habitat_vector_path</span></em>, <em class="sig-param"><span class="n">target_habitat_pickle_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.search_for_habitat" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for habitat polygon within a radius of each shore point.</p>
<p>If habitat is present within the search radius, assign the habitat_rank
to the shore point ID. If habitat is not present, assign rank of 5.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_shore_point_vector_path</strong> (<em>string</em>) – path to a shore point vector.</p></li>
<li><p><strong>search_radius</strong> (<em>integer</em>) – distance around each point to search for
habitat. units match units from base_shore_point_vector SRS.</p></li>
<li><p><strong>habitat_rank</strong> (<em>integer</em>) – from 1 to 5 representing the relative
protection offered by this habitat (5 = no protection).</p></li>
<li><p><strong>habitat_id</strong> (<em>string</em>) – unique string to represent each habitat.</p></li>
<li><p><strong>habitat_vector_path</strong> (<em>string</em>) – path to a polygon vector.</p></li>
<li><p><strong>target_habitat_pickle_path</strong> (<em>string</em>) – <p>path to pickle file storing
a dict keyed by shore point ID, nested in a dict keyed by
habitat_id:</p>
<blockquote>
<div><p>{‘habitat_id’: {&lt;id0&gt;: 5, &lt;id1&gt;.: 5, &lt;id2&gt;: 5}}</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.warp_and_mask_bathymetry">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">warp_and_mask_bathymetry</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bathymetry_raster_path</span></em>, <em class="sig-param"><span class="n">target_srs_wkt</span></em>, <em class="sig-param"><span class="n">clipping_box</span></em>, <em class="sig-param"><span class="n">model_resolution</span></em>, <em class="sig-param"><span class="n">working_dir</span></em>, <em class="sig-param"><span class="n">file_suffix</span></em>, <em class="sig-param"><span class="n">target_negative_bathy_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.warp_and_mask_bathymetry" title="Permalink to this definition">¶</a></dt>
<dd><p>Mask non-negative values from bathymetry, and warp to AOI SRS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bathymetry_raster_path</strong> (<em>string</em>) – path to a gdal raster</p></li>
<li><p><strong>target_srs_wkt</strong> (<em>string</em>) – well-known-text spatial reference system</p></li>
<li><p><strong>clipping_box</strong> (<em>list</em>) – sequence of floats that are coordinates in the
target_srs [minx, miny, maxx, maxy]</p></li>
<li><p><strong>model_resolution</strong> (<em>float</em>) – value for target pixel size</p></li>
<li><p><strong>working_dir</strong> (<em>string</em>) – path to directory for intermediate files</p></li>
<li><p><strong>file_suffix</strong> (<em>string</em>) – appended to any output filename.</p></li>
<li><p><strong>target_negative_bathy_path</strong> (<em>string</em>) – path to clipped and warped raster.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_vulnerability.zero_negative_values">
<code class="sig-prename descclassname">natcap.invest.coastal_vulnerability.</code><code class="sig-name descname">zero_negative_values</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">depth_array</span></em>, <em class="sig-param"><span class="n">nodata</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_vulnerability.zero_negative_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert negative values to zero for relief.</p>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.crop_production_percentile">
<span id="natcap-invest-crop-production-percentile-module"></span><h2>natcap.invest.crop_production_percentile module<a class="headerlink" href="#module-natcap.invest.crop_production_percentile" title="Permalink to this headline">¶</a></h2>
<p>InVEST Crop Production Percentile Model.</p>
<dl class="py function">
<dt id="natcap.invest.crop_production_percentile.aggregate_to_polygons">
<code class="sig-prename descclassname">natcap.invest.crop_production_percentile.</code><code class="sig-name descname">aggregate_to_polygons</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_aggregate_vector_path</span></em>, <em class="sig-param"><span class="n">target_aggregate_vector_path</span></em>, <em class="sig-param"><span class="n">landcover_raster_projection</span></em>, <em class="sig-param"><span class="n">crop_to_landcover_table</span></em>, <em class="sig-param"><span class="n">nutrient_table</span></em>, <em class="sig-param"><span class="n">yield_percentile_headers</span></em>, <em class="sig-param"><span class="n">output_dir</span></em>, <em class="sig-param"><span class="n">file_suffix</span></em>, <em class="sig-param"><span class="n">target_aggregate_table_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.crop_production_percentile.aggregate_to_polygons" title="Permalink to this definition">¶</a></dt>
<dd><p>Write table with aggregate results of yield and nutrient values.</p>
<p>Use zonal statistics to summarize total observed and interpolated
production and nutrient information for each polygon in
base_aggregate_vector_path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_aggregate_vector_path</strong> (<em>string</em>) – path to polygon vector</p></li>
<li><p><strong>target_aggregate_vector_path</strong> (<em>string</em>) – path to re-projected copy of polygon vector</p></li>
<li><p><strong>landcover_raster_projection</strong> (<em>string</em>) – a WKT projection string</p></li>
<li><p><strong>crop_to_landcover_table</strong> (<em>dict</em>) – landcover codes keyed by crop names</p></li>
<li><p><strong>nutrient_table</strong> (<em>dict</em>) – a lookup of nutrient values by crop in the
form of nutrient_table[&lt;crop&gt;][&lt;nutrient&gt;].</p></li>
<li><p><strong>yield_percentile_headers</strong> (<em>list</em>) – list of strings indicating percentiles
at which yield was calculated.</p></li>
<li><p><strong>output_dir</strong> (<em>string</em>) – the file path to the output workspace.</p></li>
<li><p><strong>file_suffix</strong> (<em>string</em>) – string to appened to any output filenames.</p></li>
<li><p><strong>target_aggregate_table_path</strong> (<em>string</em>) – path to ‘aggregate_results.csv’
in the output workspace</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.crop_production_percentile.execute">
<code class="sig-prename descclassname">natcap.invest.crop_production_percentile.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.crop_production_percentile.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Crop Production Percentile Model.</p>
<p>This model will take a landcover (crop cover?) map and produce yields,
production, and observed crop yields, a nutrient table, and a clipped
observed map.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong><strong>[</strong><strong>'workspace_dir'</strong><strong>]</strong> (<em>string</em>) – output directory for intermediate,
temporary, and final files</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'results_suffix'</strong><strong>]</strong> (<em>string</em>) – (optional) string to append to any
output file names</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'landcover_raster_path'</strong><strong>]</strong> (<em>string</em>) – path to landcover raster</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'landcover_to_crop_table_path'</strong><strong>]</strong> (<em>string</em>) – <p>path to a table that
converts landcover types to crop names that has two headers:
* lucode: integer value corresponding to a landcover code in</p>
<blockquote>
<div><p><cite>args[‘landcover_raster_path’]</cite>.</p>
</div></blockquote>
<ul>
<li><p>crop_name: a string that must match one of the crops in
args[‘model_data_path’]/climate_bin_maps/[cropname]_*
A ValueError is raised if strings don’t match.</p></li>
</ul>
</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'aggregate_polygon_path'</strong><strong>]</strong> (<em>string</em>) – path to polygon shapefile
that will be used to aggregate crop yields and total nutrient
value. (optional, if value is None, then skipped)</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'model_data_path'</strong><strong>]</strong> (<em>string</em>) – <p>path to the InVEST Crop Production
global data directory.  This model expects that the following
directories are subdirectories of this path
* climate_bin_maps (contains [cropname]_climate_bin.tif files)
* climate_percentile_yield (contains</p>
<blockquote>
<div><p>[cropname]_percentile_yield_table.csv files)</p>
</div></blockquote>
<p>Please see the InVEST user’s guide chapter on crop production for
details about how to download these data.</p>
</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'n_workers'</strong><strong>]</strong> (<em>int</em>) – (optional) The number of worker processes to
use for processing this model.  If omitted, computation will take
place in the current process.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.crop_production_percentile.tabulate_results">
<code class="sig-prename descclassname">natcap.invest.crop_production_percentile.</code><code class="sig-name descname">tabulate_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nutrient_table</span></em>, <em class="sig-param"><span class="n">yield_percentile_headers</span></em>, <em class="sig-param"><span class="n">crop_to_landcover_table</span></em>, <em class="sig-param"><span class="n">pixel_area_ha</span></em>, <em class="sig-param"><span class="n">landcover_raster_path</span></em>, <em class="sig-param"><span class="n">landcover_nodata</span></em>, <em class="sig-param"><span class="n">output_dir</span></em>, <em class="sig-param"><span class="n">file_suffix</span></em>, <em class="sig-param"><span class="n">target_table_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.crop_production_percentile.tabulate_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Write table with total yield and nutrient results by crop.</p>
<p>This function includes all the operations that write to results_table.csv.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nutrient_table</strong> (<em>dict</em>) – a lookup of nutrient values by crop in the
form of nutrient_table[&lt;crop&gt;][&lt;nutrient&gt;].</p></li>
<li><p><strong>yield_percentile_headers</strong> (<em>list</em>) – list of strings indicating percentiles
at which yield was calculated.</p></li>
<li><p><strong>crop_to_landcover_table</strong> (<em>dict</em>) – landcover codes keyed by crop names</p></li>
<li><p><strong>pixel_area_ha</strong> (<em>float</em>) – area of lulc raster cells (hectares)</p></li>
<li><p><strong>landcover_raster_path</strong> (<em>string</em>) – path to landcover raster</p></li>
<li><p><strong>landcover_nodata</strong> (<em>float</em>) – landcover raster nodata value</p></li>
<li><p><strong>output_dir</strong> (<em>string</em>) – the file path to the output workspace.</p></li>
<li><p><strong>file_suffix</strong> (<em>string</em>) – string to appened to any output filenames.</p></li>
<li><p><strong>target_table_path</strong> (<em>string</em>) – path to ‘result_table.csv’ in the output
workspace</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.crop_production_regression">
<span id="natcap-invest-crop-production-regression-module"></span><h2>natcap.invest.crop_production_regression module<a class="headerlink" href="#module-natcap.invest.crop_production_regression" title="Permalink to this headline">¶</a></h2>
<p>InVEST Crop Production Percentile Model.</p>
<dl class="py function">
<dt id="natcap.invest.crop_production_regression.aggregate_regression_results_to_polygons">
<code class="sig-prename descclassname">natcap.invest.crop_production_regression.</code><code class="sig-name descname">aggregate_regression_results_to_polygons</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_aggregate_vector_path</span></em>, <em class="sig-param"><span class="n">target_aggregate_vector_path</span></em>, <em class="sig-param"><span class="n">landcover_raster_projection</span></em>, <em class="sig-param"><span class="n">crop_to_landcover_table</span></em>, <em class="sig-param"><span class="n">nutrient_table</span></em>, <em class="sig-param"><span class="n">output_dir</span></em>, <em class="sig-param"><span class="n">file_suffix</span></em>, <em class="sig-param"><span class="n">target_aggregate_table_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.crop_production_regression.aggregate_regression_results_to_polygons" title="Permalink to this definition">¶</a></dt>
<dd><p>Write table with aggregate results of yield and nutrient values.</p>
<p>Use zonal statistics to summarize total observed and interpolated
production and nutrient information for each polygon in
base_aggregate_vector_path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_aggregate_vector_path</strong> (<em>string</em>) – path to polygon vector</p></li>
<li><p><strong>target_aggregate_vector_path</strong> (<em>string</em>) – path to re-projected copy of polygon vector</p></li>
<li><p><strong>landcover_raster_projection</strong> (<em>string</em>) – a WKT projection string</p></li>
<li><p><strong>crop_to_landcover_table</strong> (<em>dict</em>) – landcover codes keyed by crop names</p></li>
<li><p><strong>nutrient_table</strong> (<em>dict</em>) – a lookup of nutrient values by crop in the
form of nutrient_table[&lt;crop&gt;][&lt;nutrient&gt;].</p></li>
<li><p><strong>output_dir</strong> (<em>string</em>) – the file path to the output workspace.</p></li>
<li><p><strong>file_suffix</strong> (<em>string</em>) – string to append to any output filenames.</p></li>
<li><p><strong>target_aggregate_table_path</strong> (<em>string</em>) – path to ‘aggregate_results.csv’
in the output workspace</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.crop_production_regression.execute">
<code class="sig-prename descclassname">natcap.invest.crop_production_regression.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.crop_production_regression.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Crop Production Regression Model.</p>
<p>This model will take a landcover (crop cover?), N, P, and K map and
produce modeled yields, and a nutrient table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong><strong>[</strong><strong>'workspace_dir'</strong><strong>]</strong> (<em>string</em>) – output directory for intermediate,
temporary, and final files</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'results_suffix'</strong><strong>]</strong> (<em>string</em>) – (optional) string to append to any
output file names</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'landcover_raster_path'</strong><strong>]</strong> (<em>string</em>) – path to landcover raster</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'landcover_to_crop_table_path'</strong><strong>]</strong> (<em>string</em>) – <p>path to a table that
converts landcover types to crop names that has two headers:
* lucode: integer value corresponding to a landcover code in</p>
<blockquote>
<div><p><cite>args[‘landcover_raster_path’]</cite>.</p>
</div></blockquote>
<ul>
<li><p>crop_name: a string that must match one of the crops in
args[‘model_data_path’]/climate_regression_yield_tables/[cropname]_*
A ValueError is raised if strings don’t match.</p></li>
</ul>
</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'fertilization_rate_table_path'</strong><strong>]</strong> (<em>string</em>) – path to CSV table
that contains fertilization rates for the crops in the simulation,
though it can contain additional crops not used in the simulation.
The headers must be ‘crop_name’, ‘nitrogen_rate’,
‘phosphorous_rate’, and ‘potassium_rate’, where ‘crop_name’ is the
name string used to identify crops in the
‘landcover_to_crop_table_path’, and rates are in units kg/Ha.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'aggregate_polygon_path'</strong><strong>]</strong> (<em>string</em>) – path to polygon vector
that will be used to aggregate crop yields and total nutrient
value. (optional, if value is None, then skipped)</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'model_data_path'</strong><strong>]</strong> (<em>string</em>) – <p>path to the InVEST Crop Production
global data directory.  This model expects that the following
directories are subdirectories of this path
* climate_bin_maps (contains [cropname]_climate_bin.tif files)
* climate_percentile_yield (contains</p>
<blockquote>
<div><p>[cropname]_percentile_yield_table.csv files)</p>
</div></blockquote>
<p>Please see the InVEST user’s guide chapter on crop production for
details about how to download these data.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.crop_production_regression.tabulate_regression_results">
<code class="sig-prename descclassname">natcap.invest.crop_production_regression.</code><code class="sig-name descname">tabulate_regression_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nutrient_table</span></em>, <em class="sig-param"><span class="n">crop_to_landcover_table</span></em>, <em class="sig-param"><span class="n">pixel_area_ha</span></em>, <em class="sig-param"><span class="n">landcover_raster_path</span></em>, <em class="sig-param"><span class="n">landcover_nodata</span></em>, <em class="sig-param"><span class="n">output_dir</span></em>, <em class="sig-param"><span class="n">file_suffix</span></em>, <em class="sig-param"><span class="n">target_table_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.crop_production_regression.tabulate_regression_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Write table with total yield and nutrient results by crop.</p>
<p>This function includes all the operations that write to results_table.csv.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nutrient_table</strong> (<em>dict</em>) – a lookup of nutrient values by crop in the
form of nutrient_table[&lt;crop&gt;][&lt;nutrient&gt;].</p></li>
<li><p><strong>crop_to_landcover_table</strong> (<em>dict</em>) – landcover codes keyed by crop names</p></li>
<li><p><strong>pixel_area_ha</strong> (<em>float</em>) – area of lulc raster cells (hectares)</p></li>
<li><p><strong>landcover_raster_path</strong> (<em>string</em>) – path to landcover raster</p></li>
<li><p><strong>landcover_nodata</strong> (<em>float</em>) – landcover raster nodata value</p></li>
<li><p><strong>output_dir</strong> (<em>string</em>) – the file path to the output workspace.</p></li>
<li><p><strong>file_suffix</strong> (<em>string</em>) – string to append to any output filenames.</p></li>
<li><p><strong>target_table_path</strong> (<em>string</em>) – path to ‘result_table.csv’ in the output
workspace</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.datastack">
<span id="natcap-invest-datastack-module"></span><h2>natcap.invest.datastack module<a class="headerlink" href="#module-natcap.invest.datastack" title="Permalink to this headline">¶</a></h2>
<p>Functions for reading and writing InVEST model parameters.</p>
<p>A <strong>datastack</strong> for InVEST is a compressed archive that includes the
arguments for a model, all of the data files referenced by the arguments, and
a logfile with some extra information about how the archive was created.  The
resulting archive can then be extracted on a different computer and should
have all of the information it needs to run an InVEST model in its entirity.</p>
<p>A <strong>parameter set</strong> for InVEST is a JSON-formatted text file that contains all
of the parameters needed to run the current model, where the parameters are
located on the local hard disk.  Paths to files may be either relative or
absolute.  If paths are relative, they are interpreted as relative to the
location of the parameter set file.</p>
<p>A <strong>logfile</strong> for InVEST is a text file that is written to disk for each model
run.</p>
<dl class="py class">
<dt id="natcap.invest.datastack.ParameterSet">
<em class="property">class </em><code class="sig-prename descclassname">natcap.invest.datastack.</code><code class="sig-name descname">ParameterSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">model_name</span></em>, <em class="sig-param"><span class="n">invest_version</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.datastack.ParameterSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="py attribute">
<dt id="natcap.invest.datastack.ParameterSet.args">
<code class="sig-name descname">args</code><a class="headerlink" href="#natcap.invest.datastack.ParameterSet.args" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt id="natcap.invest.datastack.ParameterSet.invest_version">
<code class="sig-name descname">invest_version</code><a class="headerlink" href="#natcap.invest.datastack.ParameterSet.invest_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt id="natcap.invest.datastack.ParameterSet.model_name">
<code class="sig-name descname">model_name</code><a class="headerlink" href="#natcap.invest.datastack.ParameterSet.model_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="natcap.invest.datastack.build_datastack_archive">
<code class="sig-prename descclassname">natcap.invest.datastack.</code><code class="sig-name descname">build_datastack_archive</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">model_name</span></em>, <em class="sig-param"><span class="n">datastack_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.datastack.build_datastack_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Build an InVEST datastack from an arguments dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<em>dict</em>) – The arguments dictionary to include in the datastack.</p></li>
<li><p><strong>model_name</strong> (<em>string</em>) – The python-importable module string of the model
these args are for.</p></li>
<li><p><strong>datastack_path</strong> (<em>string</em>) – The path to where the datastack archive
should be written.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.datastack.build_parameter_set">
<code class="sig-prename descclassname">natcap.invest.datastack.</code><code class="sig-name descname">build_parameter_set</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">model_name</span></em>, <em class="sig-param"><span class="n">paramset_path</span></em>, <em class="sig-param"><span class="n">relative</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.datastack.build_parameter_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Record a parameter set to a file on disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<em>dict</em>) – The args dictionary to record to the parameter set.</p></li>
<li><p><strong>model_name</strong> (<em>string</em>) – An identifier string for the callable or InVEST
model that would accept the arguments given.</p></li>
<li><p><strong>paramset_path</strong> (<em>string</em>) – The path to the file on disk where the
parameters should be recorded.</p></li>
<li><p><strong>relative</strong> (<em>bool</em>) – Whether to save the paths as relative.  If <code class="docutils literal notranslate"><span class="pre">True</span></code>,
The datastack assumes that paths are relative to the parent
directory of <code class="docutils literal notranslate"><span class="pre">paramset_path</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.datastack.extract_datastack_archive">
<code class="sig-prename descclassname">natcap.invest.datastack.</code><code class="sig-name descname">extract_datastack_archive</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datastack_path</span></em>, <em class="sig-param"><span class="n">dest_dir_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.datastack.extract_datastack_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a datastack to a given folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datastack_path</strong> (<em>string</em>) – The path to a datastack archive on disk.</p></li>
<li><p><strong>dest_dir_path</strong> (<em>string</em>) – The path to a directory.  The contents of the
demonstration datastack archive will be extracted into this
directory. If the directory does not exist, it will be created.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>A dictionary of arguments from the extracted</dt><dd><p>archive.  Paths to files are absolute paths.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">args</span></code> (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.datastack.extract_parameter_set">
<code class="sig-prename descclassname">natcap.invest.datastack.</code><code class="sig-name descname">extract_parameter_set</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">paramset_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.datastack.extract_parameter_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract and return attributes from a parameter set.</p>
<p>Any string values found will have environment variables expanded.  See
:py:ref:os.path.expandvars and :py:ref:os.path.expanduser for details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>paramset_path</strong> (<em>string</em>) – The file containing a parameter set.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A <code class="docutils literal notranslate"><span class="pre">ParameterSet</span></code> namedtuple with these attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">args</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="n">The</span> <span class="n">arguments</span> <span class="nb">dict</span> <span class="k">for</span> <span class="n">the</span> <span class="n">callable</span>
<span class="n">invest_version</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">The</span> <span class="n">version</span> <span class="n">of</span> <span class="n">InVEST</span> <span class="n">used</span> <span class="n">to</span> <span class="n">record</span> <span class="n">the</span>
    <span class="n">parameter</span> <span class="nb">set</span><span class="o">.</span>
<span class="n">model_name</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">The</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">callable</span> <span class="ow">or</span> <span class="n">model</span> <span class="n">that</span> <span class="n">these</span>
    <span class="n">arguments</span> <span class="n">are</span> <span class="n">intended</span> <span class="k">for</span><span class="o">.</span>
</pre></div>
</div>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.datastack.extract_parameters_from_logfile">
<code class="sig-prename descclassname">natcap.invest.datastack.</code><code class="sig-name descname">extract_parameters_from_logfile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">logfile_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.datastack.extract_parameters_from_logfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse an InVEST logfile for the parameters (args) dictionary.</p>
<p>Argument key-value pairs are parsed, one pair per line, starting the line
after the line starting with <code class="docutils literal notranslate"><span class="pre">&quot;Arguments&quot;</span></code>, and ending with a blank line.
If no such section exists within the logfile, <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> will be
raised.</p>
<p>If possible, the model name and InVEST version will be parsed from the
same line as <code class="docutils literal notranslate"><span class="pre">&quot;Arguments&quot;</span></code>, but IUI-formatted logfiles (without model
name and InVEST version information) are also supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>logfile_path</strong> (<em>string</em>) – The path to an InVEST logfile on disk.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of the ParameterSet namedtuple.  If a model name and InVEST
version cannot be parsed from the Arguments section of the logfile,
<code class="docutils literal notranslate"><span class="pre">ParameterSet.model_name</span></code> and <code class="docutils literal notranslate"><span class="pre">ParameterSet.invest_version</span></code> will be
set to <code class="docutils literal notranslate"><span class="pre">datastack.UNKNOWN</span></code>.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError - when no arguments could be parsed from the logfile.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.datastack.format_args_dict">
<code class="sig-prename descclassname">natcap.invest.datastack.</code><code class="sig-name descname">format_args_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args_dict</span></em>, <em class="sig-param"><span class="n">model_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.datastack.format_args_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Nicely format an arguments dictionary for writing to a stream.</p>
<p>If printed to a console, the returned string will be aligned in two columns
representing each key and value in the arg dict.  Keys are in ascending,
sorted order.  Both columns are left-aligned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args_dict</strong> (<em>dict</em>) – The args dictionary to format.</p></li>
<li><p><strong>model_name</strong> (<em>string</em>) – The model name (in python package import format)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A formatted, unicode string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.datastack.get_datastack_info">
<code class="sig-prename descclassname">natcap.invest.datastack.</code><code class="sig-name descname">get_datastack_info</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filepath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.datastack.get_datastack_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Get information about a datastack.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filepath</strong> (<em>string</em>) – The path to a file on disk that can be extracted as
a datastack, parameter set, or logfile.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;archive&quot;</span></code> when the file is a datastack archive.</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;json&quot;</span></code> when the file is a json parameter set.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;logfile&quot;</span></code> when the file is a text logfile.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>The second item of the tuple is a ParameterSet namedtuple with the raw
parsed args, modelname and invest version that the file was built with.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A 2-tuple.  The first item of the tuple is one of</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.forest_carbon_edge_effect">
<span id="natcap-invest-forest-carbon-edge-effect-module"></span><h2>natcap.invest.forest_carbon_edge_effect module<a class="headerlink" href="#module-natcap.invest.forest_carbon_edge_effect" title="Permalink to this headline">¶</a></h2>
<p>InVEST Carbon Edge Effect Model.</p>
<p>An implementation of the model described in ‘Degradation in carbon stocks
near tropical forest edges’, by Chaplin-Kramer et. al (2015).</p>
<dl class="py function">
<dt id="natcap.invest.forest_carbon_edge_effect.combine_carbon_maps">
<code class="sig-prename descclassname">natcap.invest.forest_carbon_edge_effect.</code><code class="sig-name descname">combine_carbon_maps</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">carbon_maps</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.forest_carbon_edge_effect.combine_carbon_maps" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine the carbon maps and leave nodata where all inputs were nodata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>*carbon_maps</strong> (<em>array</em>) – arrays of carbon stocks stored in different pool
types.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>an array consists of all the carbon stocks from</dt><dd><p>different pool types.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>result (array)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.forest_carbon_edge_effect.execute">
<code class="sig-prename descclassname">natcap.invest.forest_carbon_edge_effect.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.forest_carbon_edge_effect.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Forest Carbon Edge Effect.</p>
<p>InVEST Carbon Edge Model calculates the carbon due to edge effects in
tropical forest pixels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong><strong>[</strong><strong>'workspace_dir'</strong><strong>]</strong> (<em>string</em>) – a path to the directory that will write
output and other temporary files during calculation. (required)</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'results_suffix'</strong><strong>]</strong> (<em>string</em>) – a string to append to any output file
name (optional)</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'n_nearest_model_points'</strong><strong>]</strong> (<em>int</em>) – number of nearest neighbor model
points to search for</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'aoi_vector_path'</strong><strong>]</strong> (<em>string</em>) – (optional) if present, a path to a
shapefile that will be used to aggregate carbon stock results at
the end of the run.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'biophysical_table_path'</strong><strong>]</strong> (<em>string</em>) – <p>a path to a CSV table that has
at least the fields ‘lucode’ and ‘c_above’. If
<code class="docutils literal notranslate"><span class="pre">args['compute_forest_edge_effects']</span> <span class="pre">==</span> <span class="pre">True</span></code>, table must
also contain an ‘is_tropical_forest’ field.  If
<code class="docutils literal notranslate"><span class="pre">args['pools_to_calculate']</span> <span class="pre">==</span> <span class="pre">'all'</span></code>, this table must contain
the fields ‘c_below’, ‘c_dead’, and ‘c_soil’.</p>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">lucode</span></code>: an integer that corresponds to landcover codes in
the raster <code class="docutils literal notranslate"><span class="pre">args['lulc_raster_path']</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_tropical_forest</span></code>: either 0 or 1 indicating whether the
landcover type is forest (1) or not (0).  If 1, the value
in <code class="docutils literal notranslate"><span class="pre">c_above</span></code> is ignored and instead calculated from the
edge regression model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c_above</span></code>: floating point number indicating tons of above
ground carbon per hectare for that landcover type</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{'c_below',</span> <span class="pre">'c_dead',</span> <span class="pre">'c_soil'}</span></code>: three other optional
carbon pools that will statically map landcover types to the
carbon densities in the table.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lucode</span><span class="p">,</span><span class="n">is_tropical_forest</span><span class="p">,</span><span class="n">c_above</span><span class="p">,</span><span class="n">c_soil</span><span class="p">,</span><span class="n">c_dead</span><span class="p">,</span><span class="n">c_below</span>
<span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">32.8</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mf">5.2</span><span class="p">,</span><span class="mf">2.1</span>
<span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">/</span><span class="n">a</span><span class="p">,</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span>
<span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">/</span><span class="n">a</span><span class="p">,</span><span class="mf">1.8</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span>
<span class="mi">16</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">28.1</span><span class="p">,</span><span class="mf">4.3</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">2.0</span>
</pre></div>
</div>
<p>Note the “n/a” in <code class="docutils literal notranslate"><span class="pre">c_above</span></code> are optional since that field
is ignored when <code class="docutils literal notranslate"><span class="pre">is_tropical_forest==1</span></code>.</p>
</div></blockquote>
</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'lulc_raster_path'</strong><strong>]</strong> (<em>string</em>) – path to a integer landcover code
raster</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'pools_to_calculate'</strong><strong>]</strong> (<em>string</em>) – if “all” then all carbon pools
will be calculted.  If any other value only above ground carbon
pools will be calculated and expect only a ‘c_above’ header in
the biophysical table. If “all” model expects ‘c_above’,
‘c_below’, ‘c_dead’, ‘c_soil’ in header of biophysical_table and
will make a translated carbon map for each based off the landcover
map.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'compute_forest_edge_effects'</strong><strong>]</strong> (<em>boolean</em>) – if True, requires
biophysical table to have ‘is_tropical_forest’ forest field, and
any landcover codes that have a 1 in this column calculate carbon
stocks using the Chaplin-Kramer et. al method and ignore ‘c_above’.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'tropical_forest_edge_carbon_model_vector_path'</strong><strong>]</strong> (<em>string</em>) – <p>path to a shapefile that defines the regions for the local carbon
edge models.  Has at least the fields ‘method’, ‘theta1’, ‘theta2’,
‘theta3’.  Where ‘method’ is an int between 1..3 describing the
biomass regression model, and the thetas are floating point numbers
that have different meanings depending on the ‘method’ parameter.
Specifically,</p>
<blockquote>
<div><ul>
<li><p>method 1 (asymptotic model):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">biomass</span> <span class="o">=</span> <span class="n">theta1</span> <span class="o">-</span> <span class="n">theta2</span> <span class="o">*</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">theta3</span> <span class="o">*</span> <span class="n">edge_dist_km</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>method 2 (logarithmic model):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># NOTE: theta3 is ignored for this method</span>
<span class="n">biomass</span> <span class="o">=</span> <span class="n">theta1</span> <span class="o">+</span> <span class="n">theta2</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">edge_dist_km</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>method 3 (linear regression):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">biomass</span> <span class="o">=</span> <span class="n">theta1</span> <span class="o">+</span> <span class="n">theta2</span> <span class="o">*</span> <span class="n">edge_dist_km</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'biomass_to_carbon_conversion_factor'</strong><strong>]</strong> (<em>string/float</em>) – Number by
which to multiply forest biomass to convert to carbon in the edge
effect calculation.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'n_workers'</strong><strong>]</strong> (<em>int</em>) – (optional) The number of worker processes to
use for processing this model.  If omitted, computation will take
place in the current process.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.globio">
<span id="natcap-invest-globio-module"></span><h2>natcap.invest.globio module<a class="headerlink" href="#module-natcap.invest.globio" title="Permalink to this headline">¶</a></h2>
<p>GLOBIO InVEST Model.</p>
<dl class="py function">
<dt id="natcap.invest.globio.execute">
<code class="sig-prename descclassname">natcap.invest.globio.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.globio.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>GLOBIO.</p>
<p>The model operates in two modes.  Mode (a) generates a landcover map
based on a base landcover map and information about crop yields,
infrastructure, and more.  Mode (b) assumes the globio landcover
map is generated.  These modes are used below to describe input
parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong><strong>[</strong><strong>'workspace_dir'</strong><strong>]</strong> (<em>string</em>) – output directory for intermediate,
temporary, and final files</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'predefined_globio'</strong><strong>]</strong> (<em>boolean</em>) – if True then “mode (b)” else
“mode (a)”</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'results_suffix'</strong><strong>]</strong> (<em>string</em>) – (optional) string to append to any
output files</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'lulc_path'</strong><strong>]</strong> (<em>string</em>) – used in “mode (a)” path to a base landcover
map with integer codes</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'lulc_to_globio_table_path'</strong><strong>]</strong> (<em>string</em>) – <p>used in “mode (a)” path to
table that translates the land-cover args[‘lulc_path’] to
intermediate GLOBIO classes, from which they will be further
differentiated using the additional data in the model.  Contains
at least the following fields:</p>
<ul>
<li><p>’lucode’: Land use and land cover class code of the dataset
used. LULC codes match the ‘values’ column in the LULC
raster of mode (b) and must be numeric and unique.</p></li>
<li><p>’globio_lucode’: The LULC code corresponding to the GLOBIO class
to which it should be converted, using intermediate codes
described in the example below.</p></li>
</ul>
</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'infrastructure_dir'</strong><strong>]</strong> (<em>string</em>) – used in “mode (a) and (b)” a path
to a folder containing maps of either gdal compatible rasters or
OGR compatible shapefiles.  These data will be used in the
infrastructure to calculation of MSA.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'pasture_path'</strong><strong>]</strong> (<em>string</em>) – used in “mode (a)” path to pasture
raster</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'potential_vegetation_path'</strong><strong>]</strong> (<em>string</em>) – used in “mode (a)” path to
potential vegetation raster</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'pasture_threshold'</strong><strong>]</strong> (<em>float</em>) – used in “mode (a)”</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'intensification_fraction'</strong><strong>]</strong> (<em>float</em>) – used in “mode (a)”; a value
between 0 and 1 denoting proportion of total agriculture that
should be classified as ‘high input’</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'primary_threshold'</strong><strong>]</strong> (<em>float</em>) – used in “mode (a)”</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'msa_parameters_path'</strong><strong>]</strong> (<em>string</em>) – path to MSA classification
parameters</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'aoi_path'</strong><strong>]</strong> (<em>string</em>) – (optional) if it exists then final MSA
raster is summarized by AOI</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'globio_lulc_path'</strong><strong>]</strong> (<em>string</em>) – used in “mode (b)” path to
predefined globio raster.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'n_workers'</strong><strong>]</strong> (<em>int</em>) – (optional) The number of worker processes to
use for processing this model.  If omitted, computation will take
place in the current process.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.globio.load_msa_parameter_table">
<code class="sig-prename descclassname">natcap.invest.globio.</code><code class="sig-name descname">load_msa_parameter_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msa_parameter_table_filename</span></em>, <em class="sig-param"><span class="n">intensification_fraction</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.globio.load_msa_parameter_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Load parameter table to a dict that to define the MSA ranges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msa_parameter_table_filename</strong> (<em>string</em>) – path to msa csv table</p></li>
<li><p><strong>intensification_fraction</strong> (<em>float</em>) – a number between 0 and 1 indicating
what level between msa_lu 8 and 9 to define the general GLOBIO
code “12” to.</p></li>
<li><p><strong>a dictionary of the form</strong> (<em>returns</em>) – <dl>
<dt>{</dt><dd><dl>
<dt>‘msa_f’: {</dt><dd><p>valuea: msa_f_value, …
valueb: …
‘&lt;’: (bound, msa_f_value),
‘&gt;’: (bound, msa_f_value)}</p>
</dd>
<dt>’msa_i_other_table’: {</dt><dd><p>valuea: msa_i_value, …
valueb: …
‘&lt;’: (bound, msa_i_other_value),
‘&gt;’: (bound, msa_i_other_value)}</p>
</dd>
<dt>’msa_i_primary’: {</dt><dd><p>valuea: msa_i_primary_value, …
valueb: …
‘&lt;’: (bound, msa_i_primary_value),
‘&gt;’: (bound, msa_i_primary_value)}</p>
</dd>
<dt>’msa_lu’: {</dt><dd><p>valuea: msa_lu_value, …
valueb: …
‘&lt;’: (bound, msa_lu_value),
‘&gt;’: (bound, msa_lu_value)
12: (msa_lu_8 * (1.0 - intensification_fraction) +</p>
<blockquote>
<div><p>msa_lu_9 * intensification_fraction}</p>
</div></blockquote>
</dd>
</dl>
</dd>
</dl>
<p>}</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.globio.make_gaussian_kernel_path">
<code class="sig-prename descclassname">natcap.invest.globio.</code><code class="sig-name descname">make_gaussian_kernel_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sigma</span></em>, <em class="sig-param"><span class="n">kernel_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.globio.make_gaussian_kernel_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a gaussian kernel raster.</p>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.habitat_quality">
<span id="natcap-invest-habitat-quality-module"></span><h2>natcap.invest.habitat_quality module<a class="headerlink" href="#module-natcap.invest.habitat_quality" title="Permalink to this headline">¶</a></h2>
<p>InVEST Habitat Quality model.</p>
<dl class="py function">
<dt id="natcap.invest.habitat_quality.execute">
<code class="sig-prename descclassname">natcap.invest.habitat_quality.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.habitat_quality.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Habitat Quality.</p>
<p>This model calculates habitat degradation and quality for the current LULC
as described in the InVEST user’s guide. Optionally <code class="docutils literal notranslate"><span class="pre">execute</span></code> calculates
habitat degradation and quality for a future LULC and habitat rarity for
current and future LULC.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<em>dict</em>) – a key, value mapping for the habitat quality inputs.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'workspace_dir'</strong><strong>]</strong> (<em>string</em>) – a path to the directory that will
write output and other temporary files (required)</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'lulc_cur_path'</strong><strong>]</strong> (<em>string</em>) – a path to an input land use/land
cover raster (required)</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'lulc_fut_path'</strong><strong>]</strong> (<em>string</em>) – a path to an input land use/land
cover raster (optional)</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'lulc_bas_path'</strong><strong>]</strong> (<em>string</em>) – a path to an input land use/land
cover raster (optional, but required for rarity calculations)</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'threats_table_path'</strong><strong>]</strong> (<em>string</em>) – a path to an input CSV
containing data of all the considered threats. Each row is a
degradation source and each column a different attribute of the
source with the following names (case-insensitive):
‘THREAT’,’MAX_DIST’,’WEIGHT’, ‘DECAY’, ‘CUR_PATH’ (required)
‘BASE_PATH’, ‘FUT_PATH’ (optional).</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'access_vector_path'</strong><strong>]</strong> (<em>string</em>) – a path to an input polygon
shapefile containing data on the relative protection against
threats (optional)</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'sensitivity_table_path'</strong><strong>]</strong> (<em>string</em>) – a path to an input CSV file
of LULC types, whether they are considered habitat, and their
sensitivity to each threat (required)</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'half_saturation_constant'</strong><strong>]</strong> (<em>float</em>) – a python float that
determines the spread and central tendency of habitat quality
scores (required)</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'results_suffix'</strong><strong>]</strong> (<em>string</em>) – a python string that will be inserted
into all raster path paths just before the file extension.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'n_workers'</strong><strong>]</strong> (<em>int</em>) – (optional) The number of worker processes to
use for processing this model.  If omitted, computation will take
place in the current process.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.hra">
<span id="natcap-invest-hra-module"></span><h2>natcap.invest.hra module<a class="headerlink" href="#module-natcap.invest.hra" title="Permalink to this headline">¶</a></h2>
<p>Habitat risk assessment (HRA) model for InVEST.</p>
<dl class="py function">
<dt id="natcap.invest.hra.execute">
<code class="sig-prename descclassname">natcap.invest.hra.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.hra.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>InVEST Habitat Risk Assessment (HRA) Model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong><strong>[</strong><strong>'workspace_dir'</strong><strong>]</strong> (<em>str</em>) – a path to the output workspace folder.
It will overwrite any files that exist if the path already exists.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'results_suffix'</strong><strong>]</strong> (<em>str</em>) – a string appended to each output file
path. (optional)</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'info_table_path'</strong><strong>]</strong> (<em>str</em>) – a path to the CSV or Excel file that
contains the name of the habitat (H) or stressor (s) on the
<code class="docutils literal notranslate"><span class="pre">NAME</span></code> column that matches the names in criteria_table_path.
Each H/S has its corresponding vector or raster path on the
<code class="docutils literal notranslate"><span class="pre">PATH</span></code> column. The <code class="docutils literal notranslate"><span class="pre">STRESSOR</span> <span class="pre">BUFFER</span> <span class="pre">(meters)</span></code> column should
have a buffer value if the <code class="docutils literal notranslate"><span class="pre">TYPE</span></code> column is a stressor.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'criteria_table_path'</strong><strong>]</strong> (<em>str</em>) – a path to the CSV or Excel file that
contains the set of criteria ranking of each stressor on each
habitat.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'resolution'</strong><strong>]</strong> (<em>int</em>) – a number representing the desired pixel
dimensions of output rasters in meters.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'max_rating'</strong><strong>]</strong> (<em>str</em><em>, </em><em>int</em><em> or </em><em>float</em>) – a number representing the
highest potential value that should be represented in rating in the
criteria scores table.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'risk_eq'</strong><strong>]</strong> (<em>str</em>) – a string identifying the equation that should be
used in calculating risk scores for each H-S overlap cell. This
will be either ‘Euclidean’ or ‘Multiplicative’.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'decay_eq'</strong><strong>]</strong> (<em>str</em>) – a string identifying the equation that should
be used in calculating the decay of stressor buffer influence. This
can be ‘None’, ‘Linear’, or ‘Exponential’.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'aoi_vector_path'</strong><strong>]</strong> (<em>str</em>) – a path to the shapefile containing one
or more planning regions used to get the average risk value for
each habitat-stressor combination over each area. Optionally, if
each of the shapefile features contain a ‘name’ field, it will
be used as a way of identifying each individual shape.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'n_workers'</strong><strong>]</strong> (<em>int</em>) – the number of worker processes to
use for processing this model.  If omitted, computation will take
place in the current process. (optional)</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'visualize_outputs'</strong><strong>]</strong> (<em>bool</em>) – if True, create output GeoJSONs and
save them in a visualization_outputs folder, so users can visualize
results on the web app. Default to True if not specified.
(optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.pollination">
<span id="natcap-invest-pollination-module"></span><h2>natcap.invest.pollination module<a class="headerlink" href="#module-natcap.invest.pollination" title="Permalink to this headline">¶</a></h2>
<p>Pollinator service model for InVEST.</p>
<dl class="py function">
<dt id="natcap.invest.pollination.execute">
<code class="sig-prename descclassname">natcap.invest.pollination.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.pollination.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>InVEST Pollination Model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong><strong>[</strong><strong>'workspace_dir'</strong><strong>]</strong> (<em>string</em>) – a path to the output workspace folder.
Will overwrite any files that exist if the path already exists.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'results_suffix'</strong><strong>]</strong> (<em>string</em>) – string appended to each output
file path.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'landcover_raster_path'</strong><strong>]</strong> (<em>string</em>) – file path to a landcover
raster.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'guild_table_path'</strong><strong>]</strong> (<em>string</em>) – <p>file path to a table indicating
the bee species to analyze in this model run.  Table headers
must include:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt>’species’: a bee species whose column string names will</dt><dd><p>be referred to in other tables and the model will output
analyses per species.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>one or more columns matching _NESTING_SUITABILITY_PATTERN</dt><dd><p>with values in the range [0.0, 1.0] indicating the
suitability of the given species to nest in a particular
substrate.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>one or more columns matching _FORAGING_ACTIVITY_RE_PATTERN</dt><dd><p>with values in the range [0.0, 1.0] indicating the
relative level of foraging activity for that species
during a particular season.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>_ALPHA_HEADER the sigma average flight distance of that bee</dt><dd><p>species in meters.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’relative_abundance’: a weight indicating the relative</dt><dd><p>abundance of the particular species with respect to the
sum of all relative abundance weights in the table.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'landcover_biophysical_table_path'</strong><strong>]</strong> (<em>string</em>) – <p>path to a table
mapping landcover codes in <cite>args[‘landcover_path’]</cite> to indexes of
nesting availability for each nesting substrate referenced in
guilds table as well as indexes of abundance of floral resources
on that landcover type per season in the bee activity columns of
the guild table.</p>
<p>All indexes are in the range [0.0, 1.0].</p>
<dl class="simple">
<dt>Columns in the table must be at least</dt><dd><ul>
<li><dl class="simple">
<dt>’lucode’: representing all the unique landcover codes in</dt><dd><p>the raster ast <cite>args[‘landcover_path’]</cite></p>
</dd>
</dl>
</li>
<li><p>For every nesting matching _NESTING_SUITABILITY_PATTERN
in the guild stable, a column matching the pattern in
<cite>_LANDCOVER_NESTING_INDEX_HEADER</cite>.</p></li>
<li><p>For every season matching _FORAGING_ACTIVITY_RE_PATTERN
in the guilds table, a column matching
the pattern in <cite>_LANDCOVER_FLORAL_RESOURCES_INDEX_HEADER</cite>.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'farm_vector_path'</strong><strong>]</strong> (<em>string</em>) – <p>(optional) path to a single layer
polygon shapefile representing farms. If present will trigger the
farm yield component of the model.</p>
<p>The layer must have at least the following fields:</p>
<ul>
<li><p>season (string): season in which the farm needs pollination</p></li>
<li><dl class="simple">
<dt>crop_type (string): a text field to identify the crop type for</dt><dd><p>summary statistics.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>half_sat (float): a real in the range [0.0, 1.0] representing</dt><dd><p>the proportion of wild pollinators to achieve a 50% yield
of that crop.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>p_dep (float): a number in the range [0.0, 1.0]</dt><dd><p>representing the proportion of yield dependent on pollinators.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>p_managed (float): proportion of pollinators that come from</dt><dd><p>non-native/managed hives.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>fr_[season] (float): one or more fields that match this pattern</dt><dd><p>such that <cite>season</cite> also matches the season headers in the
biophysical and guild table.  Any areas that overlap the
landcover map will replace seasonal floral resources with
this value.  Ranges from 0..1.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>n_[substrate] (float): One or more fields that match this</dt><dd><p>pattern such that <cite>substrate</cite> also matches the nesting
substrate headers in the biophysical and guild table.  Any
areas that overlap the landcover map will replace nesting
substrate suitability with this value.  Ranges from 0..1.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'n_workers'</strong><strong>]</strong> (<em>int</em>) – (optional) The number of worker processes to
use for processing this model.  If omitted, computation will take
place in the current process.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.routedem">
<span id="natcap-invest-routedem-module"></span><h2>natcap.invest.routedem module<a class="headerlink" href="#module-natcap.invest.routedem" title="Permalink to this headline">¶</a></h2>
<p>RouteDEM for exposing the natcap.invest’s routing package to UI.</p>
<dl class="py function">
<dt id="natcap.invest.routedem.execute">
<code class="sig-prename descclassname">natcap.invest.routedem.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.routedem.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>RouteDEM: Hydrological routing.</p>
<p>This model exposes the pygeoprocessing D8 and Multiple Flow Direction
routing functionality as an InVEST model.</p>
<p>This tool will always fill pits on the input DEM.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong><strong>[</strong><strong>'workspace_dir'</strong><strong>]</strong> (<em>string</em>) – output directory for intermediate,
temporary, and final files</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'results_suffix'</strong><strong>]</strong> (<em>string</em>) – (optional) string to append to any
output file names</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'dem_path'</strong><strong>]</strong> (<em>string</em>) – path to a digital elevation raster</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'dem_band_index'</strong><strong>]</strong> (<em>int</em>) – Optional. The band index to operate on.
If not provided, band index 1 is assumed.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'algorithm'</strong><strong>]</strong> (<em>string</em>) – The routing algorithm to use.  Must be
one of ‘D8’ or ‘MFD’ (case-insensitive). Required when calculating
flow direction, flow accumulation, stream threshold, and downstream
distance.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'calculate_flow_direction'</strong><strong>]</strong> (<em>bool</em>) – If True, model will calculate
flow direction for the filled DEM.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'calculate_flow_accumulation'</strong><strong>]</strong> (<em>bool</em>) – If True, model will
calculate a flow accumulation raster. Only applies when
args[‘calculate_flow_direction’] is True.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'calculate_stream_threshold'</strong><strong>]</strong> (<em>bool</em>) – if True, model will
calculate a stream classification layer by thresholding flow
accumulation to the provided value in
<code class="docutils literal notranslate"><span class="pre">args['threshold_flow_accumulation']</span></code>.  Only applies when
args[‘calculate_flow_accumulation’] and
args[‘calculate_flow_direction’] are True.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'threshold_flow_accumulation'</strong><strong>]</strong> (<em>int</em>) – The number of upstream
cells that must flow into a cell before it’s classified as a
stream.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'calculate_downstream_distance'</strong><strong>]</strong> (<em>bool</em>) – If True, and a stream
threshold is calculated, model will calculate a downstream
distance raster in units of pixels. Only applies when
args[‘calculate_flow_accumulation’],
args[‘calculate_flow_direction’], and
args[‘calculate_stream_threshold’] are all True.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'calculate_slope'</strong><strong>]</strong> (<em>bool</em>) – If True, model will calculate a
slope raster from the DEM.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'n_workers'</strong><strong>]</strong> (<em>int</em>) – The <code class="docutils literal notranslate"><span class="pre">n_workers</span></code> parameter to pass to
the task graph.  The default is <code class="docutils literal notranslate"><span class="pre">-1</span></code> if not provided.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.scenario_gen_proximity">
<span id="natcap-invest-scenario-gen-proximity-module"></span><h2>natcap.invest.scenario_gen_proximity module<a class="headerlink" href="#module-natcap.invest.scenario_gen_proximity" title="Permalink to this headline">¶</a></h2>
<p>Scenario Generation: Proximity Based.</p>
<dl class="py function">
<dt id="natcap.invest.scenario_gen_proximity.execute">
<code class="sig-prename descclassname">natcap.invest.scenario_gen_proximity.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.scenario_gen_proximity.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Scenario Generator: Proximity-Based.</p>
<p>Main entry point for proximity based scenario generator model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong><strong>[</strong><strong>'workspace_dir'</strong><strong>]</strong> (<em>string</em>) – output directory for intermediate,
temporary, and final files</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'results_suffix'</strong><strong>]</strong> (<em>string</em>) – (optional) string to append to any
output files</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'base_lulc_path'</strong><strong>]</strong> (<em>string</em>) – path to the base landcover map</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'replacment_lucode'</strong><strong>]</strong> (<em>string</em><em> or </em><em>int</em>) – code to replace when
converting pixels</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'area_to_convert'</strong><strong>]</strong> (<em>string</em><em> or </em><em>float</em>) – max area (Ha) to convert</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'focal_landcover_codes'</strong><strong>]</strong> (<em>string</em>) – a space separated string of
landcover codes that are used to determine the proximity when
refering to “towards” or “away” from the base landcover codes</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'convertible_landcover_codes'</strong><strong>]</strong> (<em>string</em>) – a space separated string
of landcover codes that can be converted in the generation phase
found in <cite>args[‘base_lulc_path’]</cite>.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'n_fragmentation_steps'</strong><strong>]</strong> (<em>string</em>) – an int as a string indicating
the number of steps to take for the fragmentation conversion</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'aoi_path'</strong><strong>]</strong> (<em>string</em>) – (optional) path to a shapefile that
indicates area of interest.  If present, the expansion scenario
operates only under that AOI and the output raster is clipped to
that shape.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'convert_farthest_from_edge'</strong><strong>]</strong> (<em>boolean</em>) – if True will run the
conversion simulation starting from the furthest pixel from the
edge and work inwards.  Workspace will contain output files named
‘toward_base{suffix}.{tif,csv}.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'convert_nearest_to_edge'</strong><strong>]</strong> (<em>boolean</em>) – if True will run the
conversion simulation starting from the nearest pixel on the
edge and work inwards.  Workspace will contain output files named
‘toward_base{suffix}.{tif,csv}.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'n_workers'</strong><strong>]</strong> (<em>int</em>) – (optional) The number of worker processes to
use for processing this model.  If omitted, computation will take
place in the current process.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.urban_cooling_model">
<span id="natcap-invest-urban-cooling-model-module"></span><h2>natcap.invest.urban_cooling_model module<a class="headerlink" href="#module-natcap.invest.urban_cooling_model" title="Permalink to this headline">¶</a></h2>
<p>Urban Cooling Model.</p>
<dl class="py function">
<dt id="natcap.invest.urban_cooling_model.calc_cc_op_factors">
<code class="sig-prename descclassname">natcap.invest.urban_cooling_model.</code><code class="sig-name descname">calc_cc_op_factors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shade_array</span></em>, <em class="sig-param"><span class="n">albedo_array</span></em>, <em class="sig-param"><span class="n">eti_array</span></em>, <em class="sig-param"><span class="n">cc_weight_shade</span></em>, <em class="sig-param"><span class="n">cc_weight_albedo</span></em>, <em class="sig-param"><span class="n">cc_weight_eti</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.urban_cooling_model.calc_cc_op_factors" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the cooling capacity index using weighted factors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shade_array</strong> (<em>numpy.ndarray</em>) – array of shade index values 0..1</p></li>
<li><p><strong>albedo_array</strong> (<em>numpy.ndarray</em>) – array of albedo index values 0..1</p></li>
<li><p><strong>eti_array</strong> (<em>numpy.ndarray</em>) – array of evapotransipration index values
0..1</p></li>
<li><p><strong>cc_weight_shade</strong> (<em>float</em>) – 0..1 weight to apply to shade</p></li>
<li><p><strong>cc_weight_albedo</strong> (<em>float</em>) – 0..1 weight to apply to albedo</p></li>
<li><p><strong>cc_weight_eti</strong> (<em>float</em>) – 0..1 weight to apply to eti</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>CC_i = ((cc_weight_shade * shade) +</dt><dd><p>(cc_weight_albedo * albedo) +
(cc_weight_eti * ETI))</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.urban_cooling_model.calc_cc_op_intensity">
<code class="sig-prename descclassname">natcap.invest.urban_cooling_model.</code><code class="sig-name descname">calc_cc_op_intensity</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">intensity_array</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.urban_cooling_model.calc_cc_op_intensity" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the cooling capacity index using building intensity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>intensity_array</strong> (<em>numpy.ndarray</em>) – array of intensity values.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A numpy array of <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">-</span> <span class="pre">intensity_array</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.urban_cooling_model.calc_eti_op">
<code class="sig-prename descclassname">natcap.invest.urban_cooling_model.</code><code class="sig-name descname">calc_eti_op</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kc_array</span></em>, <em class="sig-param"><span class="n">kc_nodata</span></em>, <em class="sig-param"><span class="n">et0_array</span></em>, <em class="sig-param"><span class="n">et0_nodata</span></em>, <em class="sig-param"><span class="n">et_max</span></em>, <em class="sig-param"><span class="n">target_nodata</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.urban_cooling_model.calc_eti_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate ETI = (K_c * ET_0) / ET_max.</p>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.urban_cooling_model.calc_t_air_nomix_op">
<code class="sig-prename descclassname">natcap.invest.urban_cooling_model.</code><code class="sig-name descname">calc_t_air_nomix_op</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t_ref_val</span></em>, <em class="sig-param"><span class="n">hm_array</span></em>, <em class="sig-param"><span class="n">uhi_max</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.urban_cooling_model.calc_t_air_nomix_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate air temperature T_(air,i)=T_ref+(1-HM_i)*UHI_max.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t_ref_val</strong> (<em>float</em>) – The user-defined reference air temperature in
degrees Celsius.</p></li>
<li><p><strong>hm_array</strong> (<em>numpy.ndarray</em>) – The calculated Heat Mitigation index from
equation 5 in the User’s Guide.</p></li>
<li><p><strong>uhi_max</strong> (<em>float</em>) – The user-defined maximum UHI magnitude.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A numpy array with the same dimensions as <code class="docutils literal notranslate"><span class="pre">hm_array</span></code> with the
calculated T_air_nomix values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.urban_cooling_model.calculate_energy_savings">
<code class="sig-prename descclassname">natcap.invest.urban_cooling_model.</code><code class="sig-name descname">calculate_energy_savings</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t_air_stats_pickle_path</span></em>, <em class="sig-param"><span class="n">t_ref_raw</span></em>, <em class="sig-param"><span class="n">uhi_max</span></em>, <em class="sig-param"><span class="n">energy_consumption_table_path</span></em>, <em class="sig-param"><span class="n">base_building_vector_path</span></em>, <em class="sig-param"><span class="n">target_building_vector_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.urban_cooling_model.calculate_energy_savings" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate energy savings.</p>
<p>Energy savings is calculated from equations 8 or 9 in the User’s Guide
(depending on whether a cost has been provided in the energy consumption
table).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t_air_stats_pickle_path</strong> (<em>str</em>) – path to t_air zonal stats indexed by
FID.</p></li>
<li><p><strong>t_ref_raw</strong> (<em>float</em>) – single value for Tref.</p></li>
<li><p><strong>uhi_max</strong> (<em>float</em>) – UHI max parameter from documentation.</p></li>
<li><p><strong>energy_consumption_table_path</strong> (<em>str</em>) – path to energy consumption table
that contains at least the columns ‘type’, and ‘consumption’.  If
the table also contains a ‘cost’ column, the output energy
savings field will be multiplied by the floating-point cost
provided in the ‘cost’ column.</p></li>
<li><p><strong>base_building_vector_path</strong> (<em>str</em>) – path to existing vector to copy for
the target vector that contains at least the field ‘type’.</p></li>
<li><p><strong>target_building_vector_path</strong> (<em>str</em>) – path to target vector that
will contain the additional field ‘energy_sav’ calculated as
<code class="docutils literal notranslate"><span class="pre">consumption.increase(b)</span> <span class="pre">*</span> <span class="pre">((T_(air,MAX)</span>&#160; <span class="pre">-</span> <span class="pre">T_(air,i)))</span></code>.
This vector must be in a linearly projected spatial reference
system.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.urban_cooling_model.calculate_uhi_result_vector">
<code class="sig-prename descclassname">natcap.invest.urban_cooling_model.</code><code class="sig-name descname">calculate_uhi_result_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_aoi_path</span></em>, <em class="sig-param"><span class="n">t_ref_val</span></em>, <em class="sig-param"><span class="n">t_air_stats_pickle_path</span></em>, <em class="sig-param"><span class="n">cc_stats_pickle_path</span></em>, <em class="sig-param"><span class="n">wbgt_stats_pickle_path</span></em>, <em class="sig-param"><span class="n">light_loss_stats_pickle_path</span></em>, <em class="sig-param"><span class="n">heavy_loss_stats_pickle_path</span></em>, <em class="sig-param"><span class="n">energy_consumption_vector_path</span></em>, <em class="sig-param"><span class="n">target_uhi_vector_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.urban_cooling_model.calculate_uhi_result_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarize UHI results.</p>
<dl class="simple">
<dt>Output vector will have fields with attributes summarizing:</dt><dd><ul class="simple">
<li><p>average cc value</p></li>
<li><p>average temperature value</p></li>
<li><p>average temperature anomaly</p></li>
<li><p>avoided energy consumption</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_aoi_path</strong> (<em>str</em>) – path to AOI vector.</p></li>
<li><p><strong>t_ref_val</strong> (<em>float</em>) – reference temperature.</p></li>
<li><p><strong>wbgt_stats_pickle_path</strong> (<em>str</em>) – path to pickled zonal stats for wbgt.
Can be None if no valuation occurred.</p></li>
<li><p><strong>light_loss_stats_pickle_path</strong> (<em>str</em>) – path to pickled zonal stats for
light work loss. Can be None if no valuation occurred.</p></li>
<li><p><strong>heavy_loss_stats_pickle_path</strong> (<em>str</em>) – path to pickled zonal stats for
heavy work loss. Can be None if no valuation occurred.</p></li>
<li><p><strong>energy_consumption_vector_path</strong> (<em>str</em>) – path to vector that contains
building footprints with the field ‘energy_sav’. Can be None
if no valuation occurred.</p></li>
<li><p><strong>target_uhi_vector_path</strong> (<em>str</em>) – <p>path to UHI vector created for result.
Will contain the fields:</p>
<blockquote>
<div><ul>
<li><p>avg_cc</p></li>
<li><p>avg_tmp_an</p></li>
<li><p>avd_eng_cn</p></li>
<li><p>average WBGT</p></li>
<li><p>average light loss work</p></li>
<li><p>average heavy loss work</p></li>
</ul>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.urban_cooling_model.calculate_wbgt">
<code class="sig-prename descclassname">natcap.invest.urban_cooling_model.</code><code class="sig-name descname">calculate_wbgt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">avg_rel_humidity</span></em>, <em class="sig-param"><span class="n">t_air_raster_path</span></em>, <em class="sig-param"><span class="n">target_vapor_pressure_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.urban_cooling_model.calculate_wbgt" title="Permalink to this definition">¶</a></dt>
<dd><p>Raster calculator op to calculate wet bulb globe temperature.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>avg_rel_humidity</strong> (<em>float</em>) – number between 0-100.</p></li>
<li><p><strong>t_air_raster_path</strong> (<em>string</em>) – path to T air raster.</p></li>
<li><p><strong>target_vapor_pressure_path</strong> (<em>string</em>) – path to target vapor pressure
raster.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>WBGT_i  = 0.567 * T_(air,i)  + 0.393 * e_i  + 3.94</p>
<dl class="simple">
<dt>where e_i:</dt><dd><p>e_i  = RH/100*6.105*exp(17.27*T_air/(237.7+T_air))</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.urban_cooling_model.convolve_2d_by_exponential">
<code class="sig-prename descclassname">natcap.invest.urban_cooling_model.</code><code class="sig-name descname">convolve_2d_by_exponential</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">decay_kernel_distance</span></em>, <em class="sig-param"><span class="n">signal_raster_path</span></em>, <em class="sig-param"><span class="n">target_convolve_raster_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.urban_cooling_model.convolve_2d_by_exponential" title="Permalink to this definition">¶</a></dt>
<dd><p>Convolve signal by an exponential decay of a given radius.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>decay_kernel_distance</strong> (<em>float</em>) – radius of 1/e cutoff of decay kernel
raster in pixels.</p></li>
<li><p><strong>signal_rater_path</strong> (<em>str</em>) – path to single band signal raster.</p></li>
<li><p><strong>target_convolve_raster_path</strong> (<em>str</em>) – path to convolved raster.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.urban_cooling_model.execute">
<code class="sig-prename descclassname">natcap.invest.urban_cooling_model.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.urban_cooling_model.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Urban Cooling Model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong><strong>[</strong><strong>'workspace_dir'</strong><strong>]</strong> (<em>str</em>) – path to target output directory.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'results_suffix'</strong><strong>]</strong> (<em>string</em>) – (optional) string to append to any
output file names</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'t_ref'</strong><strong>]</strong> (<em>str/float</em>) – reference air temperature.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'lulc_raster_path'</strong><strong>]</strong> (<em>str</em>) – path to landcover raster.  This raster
must be in a linearly-projected CRS.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'ref_eto_raster_path'</strong><strong>]</strong> (<em>str</em>) – path to evapotranspiration raster.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'aoi_vector_path'</strong><strong>]</strong> (<em>str</em>) – path to desired AOI.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'biophysical_table_path'</strong><strong>]</strong> (<em>str</em>) – table to map landcover codes to
Shade, Kc, and Albedo values. Must contain the fields ‘lucode’,
‘kc’, and ‘green_area’.  If <code class="docutils literal notranslate"><span class="pre">args['cc_method']</span> <span class="pre">==</span> <span class="pre">'factors'</span></code>,
then this table must also contain the fields ‘shade’ and
‘albedo’.  If <code class="docutils literal notranslate"><span class="pre">args['cc_method']</span> <span class="pre">==</span> <span class="pre">'intensity'</span></code>, then this
table must also contain the field ‘building_intensity’.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'green_area_cooling_distance'</strong><strong>]</strong> (<em>float</em>) – Distance (in m) over
which large green areas (&gt; 2 ha) will have a cooling effect.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'t_air_average_radius'</strong><strong>]</strong> (<em>float</em>) – radius of the averaging filter
for turning T_air_nomix into T_air.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'uhi_max'</strong><strong>]</strong> (<em>float</em>) – Magnitude of the UHI effect.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'do_energy_valuation'</strong><strong>]</strong> (<em>bool</em>) – if True, calculate energy savings
valuation for buildings.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'do_productivity_valuation'</strong><strong>]</strong> (<em>bool</em>) – if True, calculate work
productivity valuation based on humidity and temperature.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'avg_rel_humidity'</strong><strong>]</strong> (<em>float</em>) – (optional, depends on
‘do_productivity_valuation’) Average relative humidity (0-100%).</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'building_vector_path'</strong><strong>]</strong> – (str) (optional, depends on
‘do_energy_valuation’) path to a vector of building footprints that
contains at least the field ‘type’.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'energy_consumption_table_path'</strong><strong>]</strong> (<em>str</em>) – (optional, depends on
‘do_energy_valuation’) path to a table that maps building types to
energy consumption. Must contain at least the fields ‘type’ and
‘consumption’.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'cc_method'</strong><strong>]</strong> (<em>str</em>) – Either “intensity” or “factors”.  If
“intensity”, then the “building_intensity” column must be
present in the biophysical table.  If “factors”, then
<code class="docutils literal notranslate"><span class="pre">args['cc_weight_shade']</span></code>, <code class="docutils literal notranslate"><span class="pre">args['cc_weight_albedo']</span></code>,
<code class="docutils literal notranslate"><span class="pre">args['cc_weight_eti']</span></code> may be set to alternative weights
if desired.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'cc_weight_shade'</strong><strong>]</strong> (<em>str/float</em>) – floating point number
representing the relative weight to apply to shade when
calculating the cooling index. Default: 0.6</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'cc_weight_albedo'</strong><strong>]</strong> (<em>str/float</em>) – floating point number
representing the relative weight to apply to albedo when
calculating the cooling index. Default: 0.2</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'cc_weight_eti'</strong><strong>]</strong> (<em>str/float</em>) – floating point number
representing the relative weight to apply to ETI when
calculating the cooling index. Default: 0.2</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.urban_cooling_model.flat_disk_kernel">
<code class="sig-prename descclassname">natcap.invest.urban_cooling_model.</code><code class="sig-name descname">flat_disk_kernel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_distance</span></em>, <em class="sig-param"><span class="n">kernel_filepath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.urban_cooling_model.flat_disk_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a flat disk  kernel.</p>
<p>The raster created will be a tiled GeoTiff, with 256x256 memory blocks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_distance</strong> (<em>int</em>) – The distance (in pixels) of the
kernel’s radius.</p></li>
<li><p><strong>kernel_filepath</strong> (<em>string</em>) – The path to the file on disk where this
kernel should be stored.  If this file exists, it will be
overwritten.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.urban_cooling_model.hm_op">
<code class="sig-prename descclassname">natcap.invest.urban_cooling_model.</code><code class="sig-name descname">hm_op</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cc_array</span></em>, <em class="sig-param"><span class="n">green_area_sum</span></em>, <em class="sig-param"><span class="n">cc_park_array</span></em>, <em class="sig-param"><span class="n">green_area_threshold</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.urban_cooling_model.hm_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate HM.</p>
<blockquote>
<div><dl class="simple">
<dt>cc_array (numpy.ndarray): this is the raw cooling index mapped from</dt><dd><p>landcover values.</p>
</dd>
<dt>green_area_sum (numpy.ndarray): this is the sum of green space pixels</dt><dd><p>pixels within the user defined area for green space.</p>
</dd>
<dt>cc_park_array (numpy.ndarray): this is the exponentially decayed</dt><dd><p>cooling index due to proximity of green space.</p>
</dd>
<dt>green_area_threshold (float): a value used to determine how much</dt><dd><p>area is required to trigger a green area overwrite.</p>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>cc_array if green area &lt; green_area_threshold or cc_park &lt; cc array,
otherwise cc_park array is returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.urban_cooling_model.map_work_loss">
<code class="sig-prename descclassname">natcap.invest.urban_cooling_model.</code><code class="sig-name descname">map_work_loss</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">work_temp_threshold_array</span></em>, <em class="sig-param"><span class="n">temperature_raster_path</span></em>, <em class="sig-param"><span class="n">work_loss_raster_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.urban_cooling_model.map_work_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>Map work loss due to temperature.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>work_temp_threshold_array</strong> (<em>list</em>) – list of 3 sorted floats indicating
the thresholds for 25, 50, and 75% work loss.</p></li>
<li><p><strong>temperature_raster_path</strong> (<em>string</em>) – path to temperature raster in the
same units as <cite>work_temp_threshold_array</cite>.</p></li>
<li><p><strong>work_loss_raster_path</strong> (<em>string</em>) – path to target raster that maps per
pixel work loss percent.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.urban_cooling_model.pickle_zonal_stats">
<code class="sig-prename descclassname">natcap.invest.urban_cooling_model.</code><code class="sig-name descname">pickle_zonal_stats</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_vector_path</span></em>, <em class="sig-param"><span class="n">base_raster_path</span></em>, <em class="sig-param"><span class="n">target_pickle_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.urban_cooling_model.pickle_zonal_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate Zonal Stats for a vector/raster pair and pickle result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_vector_path</strong> (<em>str</em>) – path to vector file</p></li>
<li><p><strong>base_raster_path</strong> (<em>str</em>) – path to raster file to aggregate over.</p></li>
<li><p><strong>target_pickle_path</strong> (<em>str</em>) – path to desired target pickle file that will
be a pickle of the pygeoprocessing.zonal_stats function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.urban_flood_risk_mitigation">
<span id="natcap-invest-urban-flood-risk-mitigation-module"></span><h2>natcap.invest.urban_flood_risk_mitigation module<a class="headerlink" href="#module-natcap.invest.urban_flood_risk_mitigation" title="Permalink to this headline">¶</a></h2>
<p>Urban Flood Risk Mitigation model.</p>
<dl class="py function">
<dt id="natcap.invest.urban_flood_risk_mitigation.execute">
<code class="sig-prename descclassname">natcap.invest.urban_flood_risk_mitigation.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.urban_flood_risk_mitigation.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Urban Flood Risk Mitigation model.</p>
<p>The model computes the peak flow attenuation for each pixel, delineates
areas benefiting from this service, then calculates the monetary value of
potential avoided damage to built infrastructure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong><strong>[</strong><strong>'workspace_dir'</strong><strong>]</strong> (<em>string</em>) – a path to the directory that will
write output and other temporary files during calculation.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'results_suffix'</strong><strong>]</strong> (<em>string</em>) – appended to any output file name.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'aoi_watersheds_path'</strong><strong>]</strong> (<em>string</em>) – path to a shapefile of
(sub)watersheds or sewersheds used to indicate spatial area of
interest.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'rainfall_depth'</strong><strong>]</strong> (<em>float</em>) – depth of rainfall in mm.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'lulc_path'</strong><strong>]</strong> (<em>string</em>) – path to a landcover raster.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'soils_hydrological_group_raster_path'</strong><strong>]</strong> (<em>string</em>) – Raster with
values equal to 1, 2, 3, 4, corresponding to soil hydrologic group
A, B, C, or D, respectively (used to derive the CN number).</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'curve_number_table_path'</strong><strong>]</strong> (<em>string</em>) – path to a CSV table that
contains at least the headers ‘lucode’, ‘CN_A’, ‘CN_B’, ‘CN_C’,
‘CN_D’.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'built_infrastructure_vector_path'</strong><strong>]</strong> (<em>string</em>) – (optional) path to
a vector with built infrastructure footprints. Attribute table
contains a column ‘Type’ with integers (e.g. 1=residential,
2=office, etc.).</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'infrastructure_damage_loss_table_path'</strong><strong>]</strong> (<em>string</em>) – (optional)
path to a CSV table with columns ‘Type’ and ‘Damage’ with values
of built infrastructure type from the ‘Type’ field in
<code class="docutils literal notranslate"><span class="pre">args['built_infrastructure_vector_path']</span></code> and potential damage
loss (in $/m^2).</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'n_workers'</strong><strong>]</strong> (<em>int</em>) – (optional) if present, indicates how many
worker processes should be used in parallel processing. -1
indicates single process mode, 0 is single process but
non-blocking mode, and &gt;= 1 is number of processes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.utils">
<span id="natcap-invest-utils-module"></span><h2>natcap.invest.utils module<a class="headerlink" href="#module-natcap.invest.utils" title="Permalink to this headline">¶</a></h2>
<p>InVEST specific code utils.</p>
<dl class="py class">
<dt id="natcap.invest.utils.ThreadFilter">
<em class="property">class </em><code class="sig-prename descclassname">natcap.invest.utils.</code><code class="sig-name descname">ThreadFilter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">thread_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.utils.ThreadFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">logging.Filter</span></code></p>
<p>Filters out log messages issued by the given thread.</p>
<p>Any log messages generated by a thread with the name matching the
threadname provided to the constructor will be excluded.</p>
<dl class="py method">
<dt id="natcap.invest.utils.ThreadFilter.filter">
<code class="sig-name descname">filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">record</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.utils.ThreadFilter.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter the given log record.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>record</strong> (<em>log record</em>) – The log record to filter.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the record should be included, false if not.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="natcap.invest.utils.build_file_registry">
<code class="sig-prename descclassname">natcap.invest.utils.</code><code class="sig-name descname">build_file_registry</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_file_path_list</span></em>, <em class="sig-param"><span class="n">file_suffix</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.utils.build_file_registry" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine file suffixes with key names, base filenames, and directories.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_file_tuple_list</strong> (<em>list</em>) – a list of (dict, path) tuples where
the dictionaries have a ‘file_key’: ‘basefilename’ pair, or
‘file_key’: list of ‘basefilename’s.  ‘path’
indicates the file directory path to prepend to the basefile name.</p></li>
<li><p><strong>file_suffix</strong> (<em>string</em>) – a string to append to every filename, can be
empty string</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dictionary of ‘file_keys’ from the dictionaries in
<cite>base_file_tuple_list</cite> mapping to full file paths with suffixes or
lists of file paths with suffixes depending on the original type of
the ‘basefilename’ pair.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError if there are duplicate file keys</strong><strong> or </strong><strong>duplicate file paths.</strong> – </p></li>
<li><p><strong>ValueError if a path is not a string</strong><strong> or </strong><strong>a list of strings.</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.utils.build_lookup_from_csv">
<code class="sig-prename descclassname">natcap.invest.utils.</code><code class="sig-name descname">build_lookup_from_csv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">table_path</span></em>, <em class="sig-param"><span class="n">key_field</span></em>, <em class="sig-param"><span class="n">column_list</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">to_lower</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.utils.build_lookup_from_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a CSV table into a dictionary indexed by <code class="docutils literal notranslate"><span class="pre">key_field</span></code>.</p>
<p>Creates a dictionary from a CSV whose keys are unique entries in the CSV
table under the column named by <code class="docutils literal notranslate"><span class="pre">key_field</span></code> and values are dictionaries
indexed by the other columns in <code class="docutils literal notranslate"><span class="pre">table_path</span></code> including <code class="docutils literal notranslate"><span class="pre">key_field</span></code>
whose values are the values on that row of the CSV table.</p>
<p>If an entire row is NA/NaN (including <code class="docutils literal notranslate"><span class="pre">key_field</span></code>) then it is dropped
from the table and a warning is given of the dropped rows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_path</strong> (<em>string</em>) – path to a CSV file containing at
least the header key_field</p></li>
<li><p><strong>key_field</strong> – (string): a column in the CSV file at <cite>table_path</cite> that
can uniquely identify each row in the table and sets the row index.</p></li>
<li><p><strong>column_list</strong> (<em>list</em>) – a list of column names to subset from the CSV
file, default=None</p></li>
<li><p><strong>to_lower</strong> (<em>bool</em>) – if True, converts all unicode in the CSV,
including headers and values to lowercase, otherwise uses raw
string values. default=True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl>
<dt>a dictionary of the form {</dt><dd><blockquote>
<div><p>key_field_0: {csv_header_0: value0, csv_header_1: value1…},
key_field_1: {csv_header_0: valuea, csv_header_1: valueb…}</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
<p>if <code class="docutils literal notranslate"><span class="pre">to_lower</span></code> all strings including key_fields and values are
converted to lowercase unicode.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>lookup_dict (dict)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If ValueError occurs during conversion to dictionary.</p></li>
<li><p><strong>KeyError</strong> – If <code class="docutils literal notranslate"><span class="pre">key_field</span></code> is not present during <code class="docutils literal notranslate"><span class="pre">set_index</span></code> call.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.utils.capture_gdal_logging">
<code class="sig-prename descclassname">natcap.invest.utils.</code><code class="sig-name descname">capture_gdal_logging</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.utils.capture_gdal_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager for logging GDAL errors with python logging.</p>
<p>GDAL error messages are logged via python’s logging system, at a severity
that corresponds to a log level in <code class="docutils literal notranslate"><span class="pre">logging</span></code>.  Error messages are logged
with the <code class="docutils literal notranslate"><span class="pre">osgeo.gdal</span></code> logger.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.utils.create_coordinate_transformer">
<code class="sig-prename descclassname">natcap.invest.utils.</code><code class="sig-name descname">create_coordinate_transformer</code><span class="sig-paren">(</span><em class="sig-param">base_ref</em>, <em class="sig-param">target_ref</em>, <em class="sig-param">osr_axis_mapping_strategy=&lt;MagicMock name='mock.OAMS_TRADITIONAL_GIS_ORDER' id='140656165734528'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.utils.create_coordinate_transformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a spatial reference coordinate transformation function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_ref</strong> (<em>osr spatial reference</em>) – A defined spatial reference to
transform FROM</p></li>
<li><p><strong>target_ref</strong> (<em>osr spatial reference</em>) – A defined spatial reference
to transform TO</p></li>
<li><p><strong>osr_axis_mapping_strategy</strong> (<em>int</em>) – OSR axis mapping strategy for
<code class="docutils literal notranslate"><span class="pre">SpatialReference</span></code> objects. Defaults to
<code class="docutils literal notranslate"><span class="pre">utils.DEFAULT_OSR_AXIS_MAPPING_STRATEGY</span></code>. This parameter should
not be changed unless you know what you are doing.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An OSR Coordinate Transformation object</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.utils.exponential_decay_kernel_raster">
<code class="sig-prename descclassname">natcap.invest.utils.</code><code class="sig-name descname">exponential_decay_kernel_raster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">expected_distance</span></em>, <em class="sig-param"><span class="n">kernel_filepath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.utils.exponential_decay_kernel_raster" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a raster-based exponential decay kernel.</p>
<p>The raster created will be a tiled GeoTiff, with 256x256 memory blocks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expected_distance</strong> (<em>int</em><em> or </em><em>float</em>) – The distance (in pixels) of the
kernel’s radius, the distance at which the value of the decay
function is equal to <cite>1/e</cite>.</p></li>
<li><p><strong>kernel_filepath</strong> (<em>string</em>) – The path to the file on disk where this
kernel should be stored.  If this file exists, it will be
overwritten.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.utils.has_utf8_bom">
<code class="sig-prename descclassname">natcap.invest.utils.</code><code class="sig-name descname">has_utf8_bom</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">textfile_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.utils.has_utf8_bom" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if the text file has a UTF-8 byte-order marker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>textfile_path</strong> (<em>str</em>) – The path to a file on disk.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A bool indicating whether the textfile has a BOM.  If <code class="docutils literal notranslate"><span class="pre">True</span></code>, a BOM
is present.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.utils.log_to_file">
<code class="sig-prename descclassname">natcap.invest.utils.</code><code class="sig-name descname">log_to_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">logfile</span></em>, <em class="sig-param"><span class="n">exclude_threads</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">logging_level</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">log_fmt</span><span class="o">=</span><span class="default_value">'%(asctime)s %(module)s.%(funcName)s(%(lineno)d) %(levelname)s %(message)s'</span></em>, <em class="sig-param"><span class="n">date_fmt</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.utils.log_to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Log all messages within this context to a file.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>logfile</strong> (<em>string</em>) – The path to where the logfile will be written.
If there is already a file at this location, it will be
overwritten.</p></li>
<li><p><strong>exclude_threads=None</strong> (<em>list</em>) – If None, logging from all threads will be
included in the log. If a list, it must be a list of string thread
names that should be excluded from logging in this file.</p></li>
<li><p><strong>logging_level=logging.NOTSET</strong> (<em>int</em>) – The logging threshold.  Log
messages with a level less than this will be automatically
excluded from the logfile.  The default value (<code class="docutils literal notranslate"><span class="pre">logging.NOTSET</span></code>)
will cause all logging to be captured.</p></li>
<li><p><strong>log_fmt=LOG_FMT</strong> (<em>string</em>) – The logging format string to use.  If not
provided, <code class="docutils literal notranslate"><span class="pre">utils.LOG_FMT</span></code> will be used.</p></li>
<li><p><strong>date_fmt</strong> (<em>string</em>) – The logging date format string to use.
If not provided, ISO8601 format will be used.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">handler</span></code> –</p>
<dl class="simple">
<dt>An instance of <code class="docutils literal notranslate"><span class="pre">logging.FileHandler</span></code> that</dt><dd><p>represents the file that is being written to.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.utils.make_directories">
<code class="sig-prename descclassname">natcap.invest.utils.</code><code class="sig-name descname">make_directories</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">directory_list</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.utils.make_directories" title="Permalink to this definition">¶</a></dt>
<dd><p>Create directories in <cite>directory_list</cite> if they do not already exist.</p>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.utils.make_suffix_string">
<code class="sig-prename descclassname">natcap.invest.utils.</code><code class="sig-name descname">make_suffix_string</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">suffix_key</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.utils.make_suffix_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an InVEST appropriate suffix string.</p>
<p>Creates an InVEST appropriate suffix string  given the args dictionary and
suffix key.  In general, prepends an ‘_’ when necessary and generates an
empty string when necessary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<em>dict</em>) – the classic InVEST model parameter dictionary that is
passed to <cite>execute</cite>.</p></li>
<li><p><strong>suffix_key</strong> (<em>string</em>) – the key used to index the base suffix.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>If <cite>suffix_key</cite> is not in <cite>args</cite>, or <cite>args[‘suffix_key’]</cite> is “”</dt><dd><p>return “”,</p>
</dd>
<dt>If <cite>args[‘suffix_key’]</cite> starts with ‘_’ return <cite>args[‘suffix_key’]</cite></dt><dd><p>else return ‘_’+`args[‘suffix_key’]`</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.utils.mean_pixel_size_and_area">
<code class="sig-prename descclassname">natcap.invest.utils.</code><code class="sig-name descname">mean_pixel_size_and_area</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pixel_size_tuple</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.utils.mean_pixel_size_and_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to mean and raise Exception if they are not close.</p>
<dl class="simple">
<dt>Parameter:</dt><dd><dl class="simple">
<dt>pixel_size_tuple (tuple): a 2 tuple indicating the x/y size of a</dt><dd><p>pixel.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>tuple of (mean absolute average of pixel_size, area of pixel size)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError if the dimensions of pixel_size_tuple are not almost</strong> – square.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.utils.prepare_workspace">
<code class="sig-prename descclassname">natcap.invest.utils.</code><code class="sig-name descname">prepare_workspace</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">workspace</span></em>, <em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">logging_level</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">exclude_threads</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.utils.prepare_workspace" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare the workspace.</p>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.utils.read_csv_to_dataframe">
<code class="sig-prename descclassname">natcap.invest.utils.</code><code class="sig-name descname">read_csv_to_dataframe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">to_lower</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">sep</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">engine</span><span class="o">=</span><span class="default_value">'python'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.utils.read_csv_to_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dataframe representation of the CSV.</p>
<p>Wrapper around <code class="docutils literal notranslate"><span class="pre">pandas.read_csv</span></code> that standardizes the column names by
stripping leading/trailing whitespace and optionally making all lowercase.
This helps avoid common errors caused by user-supplied CSV files with
column names that don’t exactly match the specification.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>string</em>) – path to a CSV file</p></li>
<li><p><strong>to_lower</strong> (<em>bool</em>) – if True, convert all column names to lowercase</p></li>
<li><p><strong>sep</strong> – separator to pass to pandas.read_csv. Defaults to None, which
lets the Python engine infer the separator (if engine=’python’).</p></li>
<li><p><strong>encoding</strong> (<em>string</em>) – name of encoding codec to pass to <cite>pandas.read_csv</cite>.
Defaults to None. Setting engine=’python’ when encoding=None allows
a lot of non-UTF8 encodings to be read without raising an error.
Any special characters in other encodings may get replaced with the
replacement character.
If encoding=None, and the file begins with a BOM, the encoding gets
set to ‘utf-8-sig’; otherwise the BOM causes an error.</p></li>
<li><p><strong>engine</strong> (<em>string</em>) – kwarg for pandas.read_csv: ‘c’, ‘python’, or None.
Defaults to ‘python’ (see note about encoding).</p></li>
<li><p><strong>**kwargs</strong> – any kwargs that are valid for <code class="docutils literal notranslate"><span class="pre">pandas.read_csv</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pandas.DataFrame with the contents of the given CSV</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.utils.reclassify_raster">
<code class="sig-prename descclassname">natcap.invest.utils.</code><code class="sig-name descname">reclassify_raster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">raster_path_band</span></em>, <em class="sig-param"><span class="n">value_map</span></em>, <em class="sig-param"><span class="n">target_raster_path</span></em>, <em class="sig-param"><span class="n">target_datatype</span></em>, <em class="sig-param"><span class="n">target_nodata</span></em>, <em class="sig-param"><span class="n">error_details</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.utils.reclassify_raster" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper function for calling <code class="docutils literal notranslate"><span class="pre">pygeoprocessing.reclassify_raster</span></code>.</p>
<p>This wrapper function is helpful when added as a <code class="docutils literal notranslate"><span class="pre">TaskGraph.task</span></code> so
a better error message can be provided to the users if a
<code class="docutils literal notranslate"><span class="pre">pygeoprocessing.ReclassificationMissingValuesError</span></code> is raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raster_path_band</strong> (<em>tuple</em>) – a tuple including file path to a raster
and the band index to operate over. ex: (path, band_index)</p></li>
<li><p><strong>value_map</strong> (<em>dictionary</em>) – a dictionary of values of
{source_value: dest_value, …} where source_value’s type is the
same as the values in <code class="docutils literal notranslate"><span class="pre">base_raster_path</span></code> at band <code class="docutils literal notranslate"><span class="pre">band_index</span></code>.
Must contain at least one value.</p></li>
<li><p><strong>target_raster_path</strong> (<em>string</em>) – target raster output path; overwritten if
it exists</p></li>
<li><p><strong>target_datatype</strong> (<em>gdal type</em>) – the numerical type for the target raster</p></li>
<li><p><strong>target_nodata</strong> (<em>numerical type</em>) – the nodata value for the target raster
Must be the same type as target_datatype</p></li>
<li><p><strong>error_details</strong> (<em>dict</em>) – <p>a dictionary with key value pairs that provide
more context for a raised
<code class="docutils literal notranslate"><span class="pre">pygeoprocessing.ReclassificationMissingValuesError</span></code>.
keys must be {‘raster_name’, ‘column_name’, ‘table_name’}. Values
each key represent:</p>
<blockquote>
<div><p>’raster_name’ - string for the raster name being reclassified
‘column_name’ - name of the table column that <code class="docutils literal notranslate"><span class="pre">value_map</span></code></p>
<blockquote>
<div><p>dictionary keys came from.</p>
</div></blockquote>
<p>’table_name’ - table name that <code class="docutils literal notranslate"><span class="pre">value_map</span></code> came from.</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError if values_required is True and a pixel value from</strong> – </p></li>
<li><p><strong>raster_path_band` is not a key in value_map</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.utils.sandbox_tempdir">
<code class="sig-prename descclassname">natcap.invest.utils.</code><code class="sig-name descname">sandbox_tempdir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">prefix</span><span class="o">=</span><span class="default_value">'tmp'</span></em>, <em class="sig-param"><span class="n">dir</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.utils.sandbox_tempdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary directory for this context and clean it up on exit.</p>
<p>Parameters are identical to those for <code class="xref py py-func docutils literal notranslate"><span class="pre">tempfile.mkdtemp()</span></code>.</p>
<p>When the context manager exits, the created temporary directory is
recursively removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>suffix=''</strong> (<em>string</em>) – a suffix for the name of the directory.</p></li>
<li><p><strong>prefix='tmp'</strong> (<em>string</em>) – the prefix to use for the directory name.</p></li>
<li><p><strong>dir=None</strong> (<em>string</em><em> or </em><em>None</em>) – If a string, a directory that should be
the parent directory of the new temporary directory.  If None,
tempfile will determine the appropriate tempdir to use as the
parent folder.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">sandbox</span></code> (string) – The path to the new folder on disk.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.validation">
<span id="natcap-invest-validation-module"></span><h2>natcap.invest.validation module<a class="headerlink" href="#module-natcap.invest.validation" title="Permalink to this headline">¶</a></h2>
<p>Common validation utilities for InVEST models.</p>
<dl class="py data">
<dt id="natcap.invest.validation.CHECK_ALL_KEYS">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">CHECK_ALL_KEYS</code><em class="property"> = None</em><a class="headerlink" href="#natcap.invest.validation.CHECK_ALL_KEYS" title="Permalink to this definition">¶</a></dt>
<dd><p>A flag to pass to the validation context manager indicating that all keys
should be checked.</p>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.validation.check_boolean">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">check_boolean</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.validation.check_boolean" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a boolean value.</p>
<p>If the value provided is not a python boolean, an error message is
returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – The value to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string error message if an error was found.  <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.validation.check_csv">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">check_csv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">required_fields</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">excel_ok</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.validation.check_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>string</em>) – The string filepath to the table.</p></li>
<li><p><strong>required_fields=None</strong> (<em>list</em>) – A case-insensitive list of fieldnames that
must exist in the table.  If None, fieldnames will not be checked.</p></li>
<li><p><strong>excel_ok=False</strong> (<em>boolean</em>) – Whether it’s OK for the file to be an Excel
table.  This is not a common case.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string error message if an error was found.  <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.validation.check_directory">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">check_directory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dirpath</span></em>, <em class="sig-param"><span class="n">exists</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">permissions</span><span class="o">=</span><span class="default_value">'rx'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.validation.check_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dirpath</strong> (<em>string</em>) – The directory path to validate.</p></li>
<li><p><strong>exists=False</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the directory at <code class="docutils literal notranslate"><span class="pre">dirpath</span></code>
must already exist on the filesystem.</p></li>
<li><p><strong>permissions='rx'</strong> (<em>string</em>) – A string that includes the lowercase
characters <code class="docutils literal notranslate"><span class="pre">r</span></code>, <code class="docutils literal notranslate"><span class="pre">w</span></code> and/or <code class="docutils literal notranslate"><span class="pre">x</span></code> indicating required
permissions for this folder .  See <code class="docutils literal notranslate"><span class="pre">check_permissions</span></code> for
details.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string error message if an error was found.  <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.validation.check_file">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">check_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">permissions</span><span class="o">=</span><span class="default_value">'r'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.validation.check_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a single file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>string</em>) – The filepath to validate.</p></li>
<li><p><strong>permissions='r'</strong> (<em>string</em>) – A string that includes the lowercase
characters <code class="docutils literal notranslate"><span class="pre">r</span></code>, <code class="docutils literal notranslate"><span class="pre">w</span></code> and/or <code class="docutils literal notranslate"><span class="pre">x</span></code> indicating required
permissions for this file.  See <code class="docutils literal notranslate"><span class="pre">check_permissions</span></code> for
details.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string error message if an error was found.  <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.validation.check_freestyle_string">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">check_freestyle_string</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">regexp</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.validation.check_freestyle_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate an arbitrary string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – The value to check.  Must be able to be cast to a string.</p></li>
<li><p><strong>regexp=None</strong> (<em>dict</em>) – A dict representing validation parameters for a
regular expression.  <code class="docutils literal notranslate"><span class="pre">regexp['pattern']</span></code> is required, and its
value must be a string regular expression.
<code class="docutils literal notranslate"><span class="pre">regexp['case_sensitive']</span></code> may also be provided and is expected
to be a boolean value.  If <code class="docutils literal notranslate"><span class="pre">True</span></code> or truthy, the regular
expression will ignore case.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string error message if an error was found.  <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.validation.check_number">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">check_number</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">expression</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.validation.check_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate numbers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – A python value. This should be able to be cast to a float.</p></li>
<li><p><strong>expression=None</strong> (<em>string</em>) – A string expression to be evaluated with the
intent of determining that the value is within a specific range.
The expression must contain the string <code class="docutils literal notranslate"><span class="pre">value</span></code>, which will
represent the user-provided value (after it has been cast to a
float).  Example expression: <code class="docutils literal notranslate"><span class="pre">&quot;(value</span> <span class="pre">&gt;=</span> <span class="pre">0)</span> <span class="pre">&amp;</span> <span class="pre">(value</span> <span class="pre">&lt;=</span> <span class="pre">1)&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string error message if an error was found.  <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.validation.check_option_string">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">check_option_string</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">options</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.validation.check_option_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate that a string is in a list of options.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>string</em>) – The string value to test.</p></li>
<li><p><strong>options</strong> (<em>list</em>) – A list of strings to test against.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string error message if <code class="docutils literal notranslate"><span class="pre">value</span></code> is not in <code class="docutils literal notranslate"><span class="pre">options</span></code>.  <code class="docutils literal notranslate"><span class="pre">None</span></code>
otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.validation.check_permissions">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">check_permissions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">permissions</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.validation.check_permissions" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate permissions on a filesystem object.</p>
<p>This function uses <code class="docutils literal notranslate"><span class="pre">os.access</span></code> to determine permissions access.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>string</em>) – The path to examine for permissions.</p></li>
<li><p><strong>permissions</strong> (<em>string</em>) – a string including the characters <code class="docutils literal notranslate"><span class="pre">r</span></code>, <code class="docutils literal notranslate"><span class="pre">w</span></code>
and/or <code class="docutils literal notranslate"><span class="pre">x</span></code> (lowercase), indicating read, write, and execute
permissions (respectively) that the filesystem object at <code class="docutils literal notranslate"><span class="pre">path</span></code>
must have.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string error message if an error was found.  <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.validation.check_raster">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">check_raster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">projected</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">projection_units</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.validation.check_raster" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a GDAL Raster on disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>string</em>) – The path to the raster on disk.  The file must exist
and be readable.</p></li>
<li><p><strong>projected=False</strong> (<em>bool</em>) – Whether the spatial reference must be projected
in linear units.</p></li>
<li><p><strong>projection_units=None</strong> (<em>string</em>) – The string label (case-insensitive)
indicating the required linear units of the projection.  If
<code class="docutils literal notranslate"><span class="pre">None</span></code>, the projection units will not be checked.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string error message if an error was found.  <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.validation.check_spatial_overlap">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">check_spatial_overlap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">spatial_filepaths_list</span></em>, <em class="sig-param"><span class="n">different_projections_ok</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.validation.check_spatial_overlap" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the given spatial files spatially overlap.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spatial_filepaths_list</strong> (<em>list</em>) – A list of files that can be opened with
GDAL.  Must be on the local filesystem.</p></li>
<li><p><strong>different_projections_ok=False</strong> (<em>bool</em>) – Whether it’s OK for the input
spatial files to have different projections.  If <code class="docutils literal notranslate"><span class="pre">True</span></code>, all
projections will be converted to WGS84 before overlap is checked.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string error message if an error is found.  <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.validation.check_vector">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">check_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">required_fields</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">projected</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">projection_units</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.validation.check_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a GDAL vector on disk.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the provided vector has multiple layers, only the first layer will
be checked.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>string</em>) – The path to the vector on disk.  The file must exist
and be readable.</p></li>
<li><p><strong>required_fields=None</strong> (<em>list</em>) – The string fieldnames (case-insensitive)
that must be present in the vector layer’s table.  If None,
fieldnames will not be checked.</p></li>
<li><p><strong>projected=False</strong> (<em>bool</em>) – Whether the spatial reference must be projected
in linear units.  If None, the projection will not be checked.</p></li>
<li><p><strong>projection_units=None</strong> (<em>string</em>) – The string label (case-insensitive)
indicating the required linear units of the projection.  If
<code class="docutils literal notranslate"><span class="pre">None</span></code>, the projection units will not be checked.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string error message if an error was found.  <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.validation.get_invalid_keys">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">get_invalid_keys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">validation_warnings</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.validation.get_invalid_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the invalid keys from a validation warnings list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>validation_warnings</strong> (<em>list</em>) – A list of two-tuples where the first
item is an iterable of string args keys affected and the second
item is a string error message.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A set of the string args keys found across all of the first elements in
the validation tuples.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.validation.get_sufficient_keys">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">get_sufficient_keys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.validation.get_sufficient_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine which keys in args are sufficient.</p>
<p>A sufficient key is one that is:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Present within <code class="docutils literal notranslate"><span class="pre">args</span></code></p></li>
<li><p>Does not have a value of <code class="docutils literal notranslate"><span class="pre">''</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ol>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args</strong> (<em>dict</em>) – An args dict of string keys to serializeable values.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A set of keys from <code class="docutils literal notranslate"><span class="pre">args</span></code> that are sufficient.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.validation.invest_validator">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">invest_validator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">validate_func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.validation.invest_validator" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to enforce characteristics of validation inputs and outputs.</p>
<p>Attributes of inputs and outputs that are enforced are:</p>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">args</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">validate</span></code> must be a <code class="docutils literal notranslate"><span class="pre">dict</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">limit_to</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">validate</span></code> must be either <code class="docutils literal notranslate"><span class="pre">None</span></code> or a
string (<code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>) that exists in the <code class="docutils literal notranslate"><span class="pre">args</span></code> dict.</p></li>
<li><p>All keys in <code class="docutils literal notranslate"><span class="pre">args</span></code> must be strings</p></li>
<li><p>Decorated <code class="docutils literal notranslate"><span class="pre">validate</span></code> func must return a list of 2-tuples, where
each 2-tuple conforms to these rules:</p>
<blockquote>
<div><ul class="simple">
<li><p>The first element of the 2-tuple is an iterable of strings.
It is an error for the first element to be a string.</p></li>
<li><p>The second element of the 2-tuple is a string error message.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>In addition, this validates the <code class="docutils literal notranslate"><span class="pre">n_workers</span></code> argument if it’s included.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AssertionError when an invalid format is found.</strong> – </p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>from natcap.invest import validation
&#64;validation.invest_validator
def validate(args, limit_to=None):</p>
<blockquote>
<div><p># do your validation here</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.validation.load_fields_from_vector">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">load_fields_from_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">layer_id</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.validation.load_fields_from_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Load fieldnames from a given vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>string</em>) – The path to a GDAL-compatible vector on disk.</p></li>
<li><p><strong>layer_id=0</strong> (<em>string</em><em> or </em><em>int</em>) – The identifier for the layer to use.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of string fieldnames within the target layer.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.validation.timeout">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">timeout</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="n">timeout</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.validation.timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop a function after a given amount of time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>function</em>) – function to apply the timeout to</p></li>
<li><p><strong>args</strong> – arguments to pass to the function</p></li>
<li><p><strong>timeout</strong> (<em>number</em>) – how many seconds to allow the function to run.
Defaults to 5.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string warning message if the thread completed in time and returned
warnings, <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>RuntimeWarning` if the thread does not complete in time</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.validation.validate">
<code class="sig-prename descclassname">natcap.invest.validation.</code><code class="sig-name descname">validate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">spec</span></em>, <em class="sig-param"><span class="n">spatial_overlap_opts</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.validation.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate an args dict against a model spec.</p>
<p>Validates an arguments dictionary according to the rules laid out in
<code class="docutils literal notranslate"><span class="pre">spec</span></code>.  If <code class="docutils literal notranslate"><span class="pre">spatial_overlap_opts</span></code> is also provided, valid spatial
inputs will be checked for spatial overlap.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<em>dict</em>) – The InVEST model args dict to validate.</p></li>
<li><p><strong>spec</strong> (<em>dict</em>) – The InVEST model spec dict to validate against.</p></li>
<li><p><strong>spatial_overlap_opts=None</strong> (<em>dict</em>) – A dict.  If provided, the key</p></li>
<li><p><strong>is required to be a list of keys that may be present</strong> (<em>&quot;spatial_keys&quot;</em>) – in the args dict and (if provided in args) will be checked for
overlap with all other keys in this list.  If the key
<code class="docutils literal notranslate"><span class="pre">&quot;reference_key&quot;</span></code> is also present in this dict, the bounding
boxes of each of the files represented by
<code class="docutils literal notranslate"><span class="pre">spatial_overlap_opts[&quot;spatial_keys&quot;]</span></code> will be transformed to the
SRS of the dataset at this key.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of tuples where the first element of the tuple is an iterable of
keys affected by the error in question and the second element of the
tuple is the string message of the error.  If no validation errors were
found, an empty list is returned.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.wave_energy">
<span id="natcap-invest-wave-energy-module"></span><h2>natcap.invest.wave_energy module<a class="headerlink" href="#module-natcap.invest.wave_energy" title="Permalink to this headline">¶</a></h2>
<p>InVEST Wave Energy Model Core Code</p>
<dl class="py exception">
<dt id="natcap.invest.wave_energy.IntersectionError">
<em class="property">exception </em><code class="sig-prename descclassname">natcap.invest.wave_energy.</code><code class="sig-name descname">IntersectionError</code><a class="headerlink" href="#natcap.invest.wave_energy.IntersectionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>A custom error message for when the AOI does not intersect any wave
data points.</p>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.wave_energy.execute">
<code class="sig-prename descclassname">natcap.invest.wave_energy.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.wave_energy.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Wave Energy.</p>
<p>Executes both the biophysical and valuation parts of the wave energy model
(WEM). Files will be written on disk to the intermediate and output
directories. The outputs computed for biophysical and valuation include:
wave energy capacity raster, wave power raster, net present value raster,
percentile rasters for the previous three, and a point shapefile of the
wave points with attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workspace_dir</strong> (<em>str</em>) – Where the intermediate and output folder/files
will be saved. (required)</p></li>
<li><p><strong>wave_base_data_path</strong> (<em>str</em>) – Directory location of wave base data
including WAVEWATCH III (WW3) data and analysis area shapefile.
(required)</p></li>
<li><p><strong>analysis_area_path</strong> (<em>str</em>) – A string identifying the analysis area of
interest. Used to determine wave data shapefile, wave data text
file, and analysis area boundary shape. (required)</p></li>
<li><p><strong>aoi_path</strong> (<em>str</em>) – A polygon OGR vector outlining a more detailed area
within the analysis area. This vector should be projected with
linear units being in meters. (required to run Valuation model)</p></li>
<li><p><strong>machine_perf_path</strong> (<em>str</em>) – The path of a CSV file that holds the
machine performance table. (required)</p></li>
<li><p><strong>machine_param_path</strong> (<em>str</em>) – The path of a CSV file that holds the
machine parameter table. (required)</p></li>
<li><p><strong>dem_path</strong> (<em>str</em>) – The path of the Global Digital Elevation Model (DEM).
(required)</p></li>
<li><p><strong>results_suffix</strong> (<em>str</em>) – A python string of characters to append to each output
filename (optional)</p></li>
<li><p><strong>valuation_container</strong> (<em>boolean</em>) – Indicates whether the model includes
valuation</p></li>
<li><p><strong>land_gridPts_path</strong> (<em>str</em>) – A CSV file path containing the Landing and
Power Grid Connection Points table. (required for Valuation)</p></li>
<li><p><strong>machine_econ_path</strong> (<em>str</em>) – A CSV file path for the machine economic
parameters table. (required for Valuation)</p></li>
<li><p><strong>number_of_machines</strong> (<em>int</em>) – An integer specifying the number of machines
for a wave farm site. (required for Valuation)</p></li>
<li><p><strong>n_workers</strong> (<em>int</em>) – The number of worker processes to use for processing
this model.  If omitted, computation will take place in the current
process. (optional)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.wind_energy">
<span id="natcap-invest-wind-energy-module"></span><h2>natcap.invest.wind_energy module<a class="headerlink" href="#module-natcap.invest.wind_energy" title="Permalink to this headline">¶</a></h2>
<p>InVEST Wind Energy model.</p>
<dl class="py function">
<dt id="natcap.invest.wind_energy.execute">
<code class="sig-prename descclassname">natcap.invest.wind_energy.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.wind_energy.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Wind Energy.</p>
<p>This module handles the execution of the wind energy model
given the following dictionary:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workspace_dir</strong> (<em>str</em>) – a path to the output workspace folder (required)</p></li>
<li><p><strong>wind_data_path</strong> (<em>str</em>) – path to a CSV file with the following header
[‘LONG’,’LATI’,’LAM’, ‘K’, ‘REF’]. Each following row is a location
with at least the Longitude, Latitude, Scale (‘LAM’),
Shape (‘K’), and reference height (‘REF’) at which the data was
collected (required)</p></li>
<li><p><strong>aoi_vector_path</strong> (<em>str</em>) – a path to an OGR polygon vector that is
projected in linear units of meters. The polygon specifies the
area of interest for the wind data points. If limiting the wind
farm bins by distance, then the aoi should also cover a portion
of the land polygon that is of interest (optional for biophysical
and no distance masking, required for biophysical and distance
masking, required for valuation)</p></li>
<li><p><strong>bathymetry_path</strong> (<em>str</em>) – a path to a GDAL raster that has the depth
values of the area of interest (required)</p></li>
<li><p><strong>land_polygon_vector_path</strong> (<em>str</em>) – a path to an OGR polygon vector that
provides a coastline for determining distances from wind farm bins.
Enabled by AOI and required if wanting to mask by distances or run
valuation</p></li>
<li><p><strong>global_wind_parameters_path</strong> (<em>str</em>) – a float for the average distance
in kilometers from a grid connection point to a land connection
point (required for valuation if grid connection points are not
provided)</p></li>
<li><p><strong>results_suffix</strong> (<em>str</em>) – a str to append to the end of the output files
(optional)</p></li>
<li><p><strong>turbine_parameters_path</strong> (<em>str</em>) – a path to a CSV file that holds the
turbines biophysical parameters as well as valuation parameters
(required)</p></li>
<li><p><strong>number_of_turbines</strong> (<em>int</em>) – an integer value for the number of machines
for the wind farm (required for valuation)</p></li>
<li><p><strong>min_depth</strong> (<em>float</em>) – a float value for the minimum depth for offshore
wind farm installation (meters) (required)</p></li>
<li><p><strong>max_depth</strong> (<em>float</em>) – a float value for the maximum depth for offshore
wind farm installation (meters) (required)</p></li>
<li><p><strong>min_distance</strong> (<em>float</em>) – a float value for the minimum distance from shore
for offshore wind farm installation (meters) The land polygon must
be selected for this input to be active (optional, required for
valuation)</p></li>
<li><p><strong>max_distance</strong> (<em>float</em>) – a float value for the maximum distance from shore
for offshore wind farm installation (meters) The land polygon must
be selected for this input to be active (optional, required for
valuation)</p></li>
<li><p><strong>valuation_container</strong> (<em>boolean</em>) – Indicates whether model includes
valuation</p></li>
<li><p><strong>foundation_cost</strong> (<em>float</em>) – a float representing how much the foundation
will cost for the specific type of turbine (required for valuation)</p></li>
<li><p><strong>discount_rate</strong> (<em>float</em>) – a float value for the discount rate (required
for valuation)</p></li>
<li><p><strong>grid_points_path</strong> (<em>str</em>) – a path to a CSV file that specifies the
landing and grid point locations (optional)</p></li>
<li><p><strong>avg_grid_distance</strong> (<em>float</em>) – a float for the average distance in
kilometers from a grid connection point to a land connection point
(required for valuation if grid connection points are not provided)</p></li>
<li><p><strong>price_table</strong> (<em>boolean</em>) – a bool indicating whether to use the wind energy
price table or not (required)</p></li>
<li><p><strong>wind_schedule</strong> (<em>str</em>) – a path to a CSV file for the yearly prices of
wind energy for the lifespan of the farm (required if ‘price_table’
is true)</p></li>
<li><p><strong>wind_price</strong> (<em>float</em>) – a float for the wind energy price at year 0
(required if price_table is false)</p></li>
<li><p><strong>rate_change</strong> (<em>float</em>) – a float as a percent for the annual rate of change
in the price of wind energy. (required if price_table is false)</p></li>
<li><p><strong>n_workers</strong> (<em>int</em>) – The number of worker processes to use for processing
this model.  If omitted, computation will take place in the current
process. (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-natcap.invest" title="Permalink to this headline">¶</a></h2>
<p>init module for natcap.invest.</p>
<dl class="py function">
<dt id="natcap.invest.local_dir">
<code class="sig-prename descclassname">natcap.invest.</code><code class="sig-name descname">local_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source_file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.local_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the path to where <cite>source_file</cite> would be on disk.</p>
<p>If this is frozen (as with PyInstaller), this will be the folder with the
executable in it.  If not, it’ll just be the foldername of the source_file
being passed in.</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="natcap.invest.coastal_blue_carbon.html" class="btn btn-neutral float-right" title="natcap.invest.coastal_blue_carbon package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="natcap.html" class="btn btn-neutral float-left" title="natcap package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, The Natural Capital Project

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>