

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>natcap.invest.coastal_blue_carbon package &mdash; InVEST 3.8.9.post1013+gbc4bb051.d20201125 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.gif"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="natcap.invest.delineateit package" href="natcap.invest.delineateit.html" />
    <link rel="prev" title="natcap.invest package" href="natcap.invest.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> InVEST
          

          
            
            <img src="../_static/invest-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.8.9.post1013
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installing InVEST From Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">The InVEST CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting.html">Tutorial: Batch Processing on Windows</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">Full API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="modules.html">natcap</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="natcap.html">natcap package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="natcap.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.html#module-natcap">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="natcap.html">natcap package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="natcap.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="natcap.invest.html">natcap.invest package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="natcap.html#module-natcap">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="natcap.invest.html">natcap.invest package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="natcap.invest.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">natcap.invest.coastal_blue_carbon package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.delineateit.html">natcap.invest.delineateit package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.finfish_aquaculture.html">natcap.invest.finfish_aquaculture package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.fisheries.html">natcap.invest.fisheries package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.hydropower.html">natcap.invest.hydropower package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.ndr.html">natcap.invest.ndr package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.recreation.html">natcap.invest.recreation package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.reporting.html">natcap.invest.reporting package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.scenic_quality.html">natcap.invest.scenic_quality package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.sdr.html">natcap.invest.sdr package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.seasonal_water_yield.html">natcap.invest.seasonal_water_yield package</a></li>
<li class="toctree-l4"><a class="reference internal" href="natcap.invest.ui.html">natcap.invest.ui package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.carbon">natcap.invest.carbon module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.cli">natcap.invest.cli module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.coastal_vulnerability">natcap.invest.coastal_vulnerability module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.crop_production_percentile">natcap.invest.crop_production_percentile module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.crop_production_regression">natcap.invest.crop_production_regression module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.datastack">natcap.invest.datastack module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.forest_carbon_edge_effect">natcap.invest.forest_carbon_edge_effect module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.globio">natcap.invest.globio module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.habitat_quality">natcap.invest.habitat_quality module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.hra">natcap.invest.hra module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.pollination">natcap.invest.pollination module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.routedem">natcap.invest.routedem module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.scenario_gen_proximity">natcap.invest.scenario_gen_proximity module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.urban_cooling_model">natcap.invest.urban_cooling_model module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.urban_flood_risk_mitigation">natcap.invest.urban_flood_risk_mitigation module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.utils">natcap.invest.utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.validation">natcap.invest.validation module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.wave_energy">natcap.invest.wave_energy module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest.wind_energy">natcap.invest.wind_energy module</a></li>
<li class="toctree-l3"><a class="reference internal" href="natcap.invest.html#module-natcap.invest">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">natcap.invest.coastal_blue_carbon package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.coastal_blue_carbon.coastal_blue_carbon">natcap.invest.coastal_blue_carbon.coastal_blue_carbon module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#implementation-notes">Implementation Notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.coastal_blue_carbon.preprocessor">natcap.invest.coastal_blue_carbon.preprocessor module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-natcap.invest.coastal_blue_carbon">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.delineateit.html">natcap.invest.delineateit package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.finfish_aquaculture.html">natcap.invest.finfish_aquaculture package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.fisheries.html">natcap.invest.fisheries package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.hydropower.html">natcap.invest.hydropower package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ndr.html">natcap.invest.ndr package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.recreation.html">natcap.invest.recreation package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.reporting.html">natcap.invest.reporting package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.scenic_quality.html">natcap.invest.scenic_quality package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.sdr.html">natcap.invest.sdr package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.seasonal_water_yield.html">natcap.invest.seasonal_water_yield package</a></li>
<li class="toctree-l2"><a class="reference internal" href="natcap.invest.ui.html">natcap.invest.ui package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">InVEST</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../api.html">API Reference</a> &raquo;</li>
        
          <li><a href="modules.html">natcap</a> &raquo;</li>
        
          <li><a href="natcap.html">natcap package</a> &raquo;</li>
        
          <li><a href="natcap.invest.html">natcap.invest package</a> &raquo;</li>
        
      <li>natcap.invest.coastal_blue_carbon package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/natcap.invest.coastal_blue_carbon.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="natcap-invest-coastal-blue-carbon-package">
<h1>natcap.invest.coastal_blue_carbon package<a class="headerlink" href="#natcap-invest-coastal-blue-carbon-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-natcap.invest.coastal_blue_carbon.coastal_blue_carbon">
<span id="natcap-invest-coastal-blue-carbon-coastal-blue-carbon-module"></span><h2>natcap.invest.coastal_blue_carbon.coastal_blue_carbon module<a class="headerlink" href="#module-natcap.invest.coastal_blue_carbon.coastal_blue_carbon" title="Permalink to this headline">¶</a></h2>
<p>InVEST Coastal Blue Carbon: Main Model.</p>
<div class="section" id="implementation-notes">
<h3>Implementation Notes<a class="headerlink" href="#implementation-notes" title="Permalink to this headline">¶</a></h3>
<div class="section" id="comparison-with-the-prior-implementation">
<h4>Comparison with the Prior Implementation<a class="headerlink" href="#comparison-with-the-prior-implementation" title="Permalink to this headline">¶</a></h4>
<p>This model is a timeseries analysis, where we iterate through each year in the
timeseries and track the state of carbon over time: the state of carbon
stocks, net sequestration, rates of accumulation, carbon emitted, etc, all for
each relevant carbon pool.  A lot of files are produced in both the
intermediate and output directories in the target workspace.</p>
<p>While some of these operations could be summarized per transition (which would
result in fewer files produced), this implementation avoids such summary.  This
is because the implementation that this file replaces did just that, and there
were a number of issues that arose from that implementation:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><strong>Unbounded memory consumption</strong>
This model has no upper bound on how many years the timeseries can
operate over. So even if we were to have each task operating on only
those years between transitions, even that number could be very large
and exhaust available memory. We had many issues with memory usage in
the prior model, and iterating over lots of files is the safest
general-case solution for a timeseries model with an unbounded number of
years.</p></li>
<li><p><strong>In practice, the intermediate rasters are useful for analyses</strong>
The prior implementation wrote as few rasters out as it could, which
ultimately ended up making it harder for some of our partner
organizations to to the science they needed. By providing all these
intermediate rasters, we allow our users to do their own analytics and
summaries on how carbon stocks change over time, which would have been
game-changing to our colleagues in analyses past.</p></li>
<li><p><strong>Debugging multidimensional arrays is time-consuming and tricky</strong>
The prior implementation used 3D arrays (m x n x n_years) for its
analysis, which was more concise to implement but so incredibly
difficult to debug when there were issues. If we were to only output a
few summary rasters per transition year, we would still have these 3D
arrays, and debugging would be much trickier. Admittedly, there’s
probably a way to make all this much easier to debug than the prior
implementation, but even if we were to do so, we’d still have the
unbounded-array-size problem, mentioned in point 1.</p></li>
</ol>
</div></blockquote>
<p>The implementation as stated plays it safe, writing out individual rasters per
component per timestep.  There’s a lot of bookkeeping as a result, but the
final model is consistent with development standards, correct (according to the
model’s specification in the InVEST User’s guide) and will be easier to
maintain and debug as issues arise.</p>
</div>
<div class="section" id="advanced-mode">
<h4>“Advanced” Mode<a class="headerlink" href="#advanced-mode" title="Permalink to this headline">¶</a></h4>
<p>The Coastal Blue Carbon model as specified in the User’s Guide is tied to the
landcover classifications provided by the user, and only offers an interesting
perspective on carbon stored when a landcover class transitions to another
landcover class.  This approach seriously hampers the ability to model spatial
carbon distributions.</p>
<p>In response to this shortcoming, the model now offers an ‘advanced’ entrypoint,
where a user can provide their own maps of spatial parameters, such as rates of
accumulation, half-lives of carbon, and other parameters for finer-grained
control.  See the docstring for <code class="docutils literal notranslate"><span class="pre">execute_transition_analysis</span></code> for more
information.</p>
</div>
<div class="section" id="units-of-inputs-and-outputs">
<h4>Units of Inputs and Outputs<a class="headerlink" href="#units-of-inputs-and-outputs" title="Permalink to this headline">¶</a></h4>
<p>The units of carbon in the model’s inputs and outputs are, across the board,
density of CO2-equivalent per hectare.  Megatonnes of CO2-equivalent per Ha are
the units specified in the user’s guide, but any such density could be used as
no conversion of units takes place in the model.</p>
<p>There has been some conversation within the Natural Capital Project staff of
whether to convert this carbon density per hectare to carbon density per pixel,
for consistency with the rest of InVEST (which often displays metrics per
pixel), and also for easier aggregation of spatial metrics such as total carbon
sequestered in the landscape.  The carbon density per hectare has been retained
here for several reasons:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Many carbon scientists, including on the NatCap staff, prefer to work
directly with carbon densities.</p></li>
<li><p>Converting from CO2E/Ha to CO2E/pixel is an easy calculation should the
conversion be desired, and can be done via a raster calculator call in
any GIS software.</p></li>
<li><p>Using rates of CO2E/Ha allows for the model to operate on landscapes
where pixels might be non-square, or may vary in size over space such as
in lat/long coordinate systems.  In such systems, converting to units
per pixel would be nontrivial due to the area of a pixel varying across
the raster.  Thus, using rates per hectare enables the model to be used
across very large areas without modification.</p></li>
</ol>
</div></blockquote>
<dl class="py function">
<dt id="natcap.invest.coastal_blue_carbon.coastal_blue_carbon.execute">
<code class="sig-prename descclassname">natcap.invest.coastal_blue_carbon.coastal_blue_carbon.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_blue_carbon.coastal_blue_carbon.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Model Coastal Blue Carbon over a time series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong><strong>[</strong><strong>'workspace_dir'</strong><strong>]</strong> (<em>string</em>) – the path to a workspace directory where
outputs should be written.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'results_suffix'</strong><strong>]</strong> (<em>string</em>) – (optional) If provided, a string
suffix that will be added to each output filename.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'n_workers'</strong><strong>]</strong> (<em>int</em>) – (optional) If provided, the number of workers
to pass to <code class="docutils literal notranslate"><span class="pre">taskgraph</span></code>.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'landcover_snapshot_csv'</strong><strong>]</strong> (<em>string</em>) – The path to a transitions
CSV table containing transition years and the LULC rasters
representing that year. Required for transition analysis.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'analysis_year'</strong><strong>]</strong> (<em>int</em>) – the year of the final analysis.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'do_economic_analysis'</strong><strong>]</strong> (<em>bool</em>) – Whether to do valuation.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'use_price_table'</strong><strong>]</strong> (<em>bool</em>) – Whether to use a table of annual carbon
prices for valuation.  Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'price_table_path'</strong><strong>]</strong> (<em>string</em>) – The path to a table of prices to use
for valuation.  Required if <code class="docutils literal notranslate"><span class="pre">args['use_price_table']</span></code> is
<code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'inflation_rate'</strong><strong>]</strong> (<em>number</em>) – The rate of inflation.  The number
provided is multiplied by <code class="docutils literal notranslate"><span class="pre">0.01</span></code> to compute the actual rate of
inflation.  Required if <code class="docutils literal notranslate"><span class="pre">args['use_price_table']</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'price'</strong><strong>]</strong> (<em>number</em>) – The carbon price.  Required if
<code class="docutils literal notranslate"><span class="pre">args['use_price_table']</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'discount_rate'</strong><strong>]</strong> (<em>number</em>) – The discount rate.  The number provided
is multiplied by <code class="docutils literal notranslate"><span class="pre">0.01</span></code> to compute the actual discount rate.
Required if <code class="docutils literal notranslate"><span class="pre">args['do_economic_analysis']</span></code>.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'biophysical_table_path'</strong><strong>]</strong> (<em>string</em>) – The path to the biophysical
table on disk.  This table has many required columns.  See
<code class="docutils literal notranslate"><span class="pre">ARGS_SPEC</span></code> for the required columns.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'landcover_transitions_table'</strong><strong>]</strong> (<em>string</em>) – The path to the landcover
transitions table, indicating the behavior of carbon when the
landscape undergoes a transition.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="natcap.invest.coastal_blue_carbon.coastal_blue_carbon.execute_transition_analysis">
<code class="sig-prename descclassname">natcap.invest.coastal_blue_carbon.coastal_blue_carbon.</code><code class="sig-name descname">execute_transition_analysis</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_blue_carbon.coastal_blue_carbon.execute_transition_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a transition analysis.</p>
<p>The calculations required for an analysis centered around a baseline period
are trivial and can be accomplished with a few calls to your
<code class="docutils literal notranslate"><span class="pre">raster_calculator</span></code> of choice because of the linear rates of carbon
accumulation that this model assumes.  By contrast, the raster calculations
required for an analysis involving transitions are much more complex, and
by providing this function separate from <code class="docutils literal notranslate"><span class="pre">execute</span></code>, the adept modeller is
able to provide spatially-explicit distributions of rates of accumulation,
the magnitudes of disturbances, carbon half-lives and carbon stocks for
each carbon pool as desired.</p>
<p>There are certain constraints placed on some of these inputs:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt>The years listed in <code class="docutils literal notranslate"><span class="pre">args['transition_years']</span></code> must match the keys</dt><dd><p>in <code class="docutils literal notranslate"><span class="pre">args['disturbance_magnitude_rasters']</span></code>,
<code class="docutils literal notranslate"><span class="pre">args['half_life_rasters']</span></code>, and
<code class="docutils literal notranslate"><span class="pre">args['annual_rate_of_accumulation_rasters']</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>All rasters provided to this function must be in the same projected</dt><dd><p>coordinate system and have identical dimensions and pixel sizes.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>All rasters provided to this function are assumed to be 32-bit</dt><dd><p>floating-point rasters with a nodata value matching this module’s
<code class="docutils literal notranslate"><span class="pre">NODATA_FLOAT32_MIN</span></code> attribute.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>All data structures provided to this function that use pools as an</dt><dd><p>index assume that the pools are strings matching the <code class="docutils literal notranslate"><span class="pre">POOL_SOIL</span></code>,
<code class="docutils literal notranslate"><span class="pre">POOL_BIOMASS</span></code> and <code class="docutils literal notranslate"><span class="pre">POOL_LITTER</span></code> attributes of this module.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>Most dicts passed to this function are nested dictionaries indexed</dt><dd><p>first by transition year, then by pool (see note about pool keys).
These dicts are accessed like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">args</span><span class="p">[</span><span class="s1">&#39;half_life_rasters&#39;</span><span class="p">][</span><span class="n">transition_year</span><span class="p">][</span><span class="n">POOL_SOIL</span><span class="p">]</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The “baseline period” is the range of years between the baseline year</dt><dd><p>and the first transition, not including the year of the first
transition.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong><strong>[</strong><strong>'workspace_dir'</strong><strong>]</strong> (<em>string</em>) – The path to a workspace directory where
outputs should be written.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'results_suffix'</strong><strong>]</strong> (<em>string</em>) – If provided, a string suffix that will
be added to each output filename. Optional.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'n_workers'</strong><strong>]</strong> (<em>int</em>) – The number of workers that <code class="docutils literal notranslate"><span class="pre">taskgraph</span></code> may
use.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'transition_years'</strong><strong>]</strong> (<em>set</em>) – A python set of int years in which a
transition will take place.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'disturbance_magnitude_rasters'</strong><strong>]</strong> (<em>dict</em>) – A 2-level deep dict
structure mapping int transition years to string pools to raster
paths representing the magnitude (0-1, float32) of a disturbance.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'half_life_rasters'</strong><strong>]</strong> (<em>dict</em>) – A 2-level deep dict structure mapping
int transition years to string pools to raster paths representing
the half-life of the given carbon pool at that transition year.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'annual_rate_of_accumulation_rasters'</strong><strong>]</strong> (<em>dict</em>) – A 2-level deep dict
structure mapping int transition years to string pools to raster
paths representing the annual rate of accumulation for this pool in
the given transition period.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'carbon_prices_per_year'</strong><strong>]</strong> (<em>dict</em>) – A dict mapping int years to the
floating-point price of carbon in that year.  Every year between
the baseline year and the analysis year (inclusive) must have a
key-value pair defined.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'discount_rate'</strong><strong>]</strong> (<em>number</em>) – The discount rate for carbon
valuation.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'analysis_year'</strong><strong>]</strong> (<em>int</em>) – The analysis year.  Must be greater than
or equal to the final transition year.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'do_economic_analysis'</strong><strong>]</strong> (<em>bool</em>) – Whether to do valuation.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'baseline_lulc_raster'</strong><strong>]</strong> (<em>string</em>) – The path to the baseline lulc
raster on disk.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'baseline_lulc_year'</strong><strong>]</strong> (<em>int</em>) – The year of the baseline scenario.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'sequestration_since_baseline_raster'</strong><strong>]</strong> (<em>string</em>) – The string path
to a raster on disk representing the total carbon sequestration
across all 3 carbon pools in the entire baseline period.</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'stocks_at_first_transition'</strong><strong>]</strong> (<em>dict</em>) – A dict mapping pool strings
(see above for the valid pool identifiers) to rasters representing
the carbon stocks at the end of the baseline period.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
</div>
<div class="section" id="module-natcap.invest.coastal_blue_carbon.preprocessor">
<span id="natcap-invest-coastal-blue-carbon-preprocessor-module"></span><h2>natcap.invest.coastal_blue_carbon.preprocessor module<a class="headerlink" href="#module-natcap.invest.coastal_blue_carbon.preprocessor" title="Permalink to this headline">¶</a></h2>
<p>Coastal Blue Carbon Preprocessor.</p>
<dl class="py function">
<dt id="natcap.invest.coastal_blue_carbon.preprocessor.execute">
<code class="sig-prename descclassname">natcap.invest.coastal_blue_carbon.preprocessor.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#natcap.invest.coastal_blue_carbon.preprocessor.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Coastal Blue Carbon Preprocessor.</p>
<p>The preprocessor accepts a list of rasters and checks for cell-transitions
across the rasters.  The preprocessor outputs a CSV file representing a
matrix of land cover transitions, each cell pre-filled with a string
indicating whether carbon accumulates or is disturbed as a result of the
transition, if a transition occurs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong><strong>[</strong><strong>'workspace_dir'</strong><strong>]</strong> (<em>string</em>) – directory path to workspace</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'results_suffix'</strong><strong>]</strong> (<em>string</em>) – append to outputs directory name if
provided</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'lulc_lookup_table_path'</strong><strong>]</strong> (<em>string</em>) – filepath of lulc lookup table</p></li>
<li><p><strong>args</strong><strong>[</strong><strong>'landcover_csv_path'</strong><strong>]</strong> (<em>string</em>) – filepath to a CSV containing the
year and filepath to snapshot rasters on disk.  The years may be in
any order, but must be unique.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-natcap.invest.coastal_blue_carbon">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-natcap.invest.coastal_blue_carbon" title="Permalink to this headline">¶</a></h2>
<p>Coastal Blue Carbon package.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="natcap.invest.delineateit.html" class="btn btn-neutral float-right" title="natcap.invest.delineateit package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="natcap.invest.html" class="btn btn-neutral float-left" title="natcap.invest package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, The Natural Capital Project

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>