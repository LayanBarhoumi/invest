import numpy
import pygeoprocessing

flow_dir_path = '/Users/emily/Documents/ndr_workspace/intermediate_outputs/flow_direction.tif'
streams_path = '/Users/emily/Documents/ndr_workspace/intermediate_outputs/stream.tif'
target_path = '/Users/emily/Documents/demo_distance_to_stream_bug.tif'

pygeoprocessing.routing.distance_to_channel_mfd(
    (flow_dir_path, 1),
    (streams_path, 1),
    target_path)

arr = pygeoprocessing.raster_to_numpy_array(target_path)
print(numpy.where(arr < 0))
print(arr[arr < 0])
