<!DOCTYPE html>
<html lang="en">
  <body>
    <h1>About InVEST</h1>
    <span id='invest-version'>
      <h3>InVEST Version: </h3> 
    </span>
    <br/><br/>
    <span id='workbench-version'>
      <h3>Workbench Version: </h3> 
    </span>
    <br/> <br/>

    Documentation: 
    <a
      href="http://releases.naturalcapitalproject.org/invest-userguide/latest/"
      onClick="handleClick(event)">
      http://releases.naturalcapitalproject.org/invest-userguide/latest/
    </a>
    <br/>
    Homepage: 
    <a
      href="https://naturalcapitalproject.stanford.edu/"
      onClick="handleClick(event)">
      https://naturalcapitalproject.stanford.edu/
    </a>
    <br/>
    Copyright 2021, The Natural Capital Project
    <br/>
    License: 
    <a
      href="https://github.com/natcap/invest/blob/master/LICENSE.txt"
      onClick="handleClick(event)">
      BSD 3-clause
    </a>
    <br/>
    Project pages: 
    <br/>
    <a
      href="https://github.com/natcap/invest"
      onClick="handleClick(event)">
      github.com/natcap/invest
    </a>
    <br/>
    <a
      href="https://github.com/natcap/invest-workbench"
      onClick="handleClick(event)">
      github.com/natcap/invest-workbench
    </a>
    <br/>

    <h2>Open-Source Licenses</h2>
    <table>
        <tr>
          <td>PyInstaller</td>
          <td>GPL</td>
          <td>
            <a
              href='http://pyinstaller.org'
              onClick="handleClick(event)">
              http://pyinstaller.org
            </a>
          </td>
        </tr>
        <tr>
          <td>GDAL</td>
          <td>MIT and others</td>
          <td>
            <a
              href='http://gdal.org'
              onClick="handleClick(event)">
              http://gdal.org
            </a>
          </td>
        </tr>
        <tr>
          <td>numpy</td>
          <td>BSD</td>
          <td>
            <a
              href='http://numpy.org'
              onClick="handleClick(event)">
              http://numpy.org
            </a>
          </td>
        </tr>
        <tr>
          <td>pygeoprocessing</td>
          <td>BSD</td>
          <td>
            <a
              href='https://github.com/natcap/pygeoprocessing'
              onClick="handleClick(event)">
              https://github.com/natcap/pygeoprocessing
            </a>
          </td>
        </tr>
        <tr>
          <td>rtree</td>
          <td>LGPL</td>
          <td>
            <a
              href='http://toblerity.org/rtree/'
              onClick="handleClick(event)">
              http://toblerity.org/rtree/
            </a>
          </td>
        </tr>
        <tr>
          <td>scipy</td>
          <td>BSD</td>
          <td>
            <a
              href='http://www.scipy.org/'
              onClick="handleClick(event)">
              http://www.scipy.org/
            </a>
          </td>
        </tr>
        <tr>
          <td>shapely</td>
          <td>BSD</td>
          <td>
            <a
              href='http://github.com/Toblerity/Shapely'
              onClick="handleClick(event)">
              http://github.com/Toblerity/Shapely
            </a>
          </td>
        </tr>
    </table>
    <br/>
    <p>
      The source code for GPL'd components are included as an extra
      component on your installation medium.
    </p>
  </body>
  <script>
    const { ipcRenderer, shell } = require('electron');
    const { getLogger } = require('../logger');
    const logger = getLogger(__filename.split('/').slice(-1)[0]);

    const node1 = document.getElementById('invest-version');
    const node2 = document.getElementById('workbench-version');

    ipcRenderer.invoke('variable-request')
    .then(response => {
      const text1 = document.createTextNode(response.investVersion)
      node1.appendChild(text1)
      const text2 = document.createTextNode(response.workbenchVersion)
      node2.appendChild(text2)
    })
    .catch(e => {
        logger.error(e.message);
    });

    function handleClick(event) {
      event.preventDefault();
      shell.openExternal(event.target.href);
    }
  </script>
</html>
